<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>å¿ƒåŠ¨é‚‚é€… - å…¨åŠŸèƒ½æ‹çˆ±å¹³å°</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome å›¾æ ‡ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* å…¨å±€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: manipulation;
        }

        /* å…¨å±€å…¥åœºåŠ¨ç”»ï¼šæ·¡å…¥+ä¸Šç§»ï¼Œä¸æ»‘æ— å¡é¡¿ */
        .page-enter {
            animation: pageEnter 1.2s ease-in-out forwards;
            opacity: 0;
            transform: translateY(50px);
        }

        @keyframes pageEnter {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* æ¿å—è¿›åœºåŠ¨ç”»ï¼šæ·¡å…¥+è½»å¾®ç¼©æ”¾ */
        .module-enter {
            animation: moduleEnter 0.8s ease-out forwards;
            opacity: 0;
            transform: scale(0.95);
        }

        @keyframes moduleEnter {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* å»¶è¿Ÿè¿›åœºï¼Œå®ç°æ¿å—ä¾æ¬¡æ˜¾ç¤º */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }

        /* ç§å¯†ç©ºé—´ç«èŠ±åŠ¨æ•ˆ */
        .sparkle {
            animation: sparkle 1.5s infinite alternate;
        }

        @keyframes sparkle {
            from { filter: brightness(1); }
            to { filter: brightness(1.3); }
        }

        /* éšè—å…ƒç´ ï¼ˆé¡µé¢åˆ‡æ¢ï¼‰ */
        .hidden-page {
            display: none;
        }

        /* ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªï¼ˆä»…æ‰‹æœºç«¯æ˜¾ç¤ºï¼‰ */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 999;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        /* å†…å®¹é¿å¼€åº•éƒ¨å¯¼èˆª */
        .content-padding {
            padding-bottom: 80px;
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: #ff6b8b;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        /* å¤´åƒè£å‰ªå®¹å™¨ */
        .avatar-crop {
            clip-path: circle(50% at 50% 50%);
            overflow: hidden;
        }

        /* æŒ‰é’®ç‚¹å‡»åé¦ˆ */
        .btn-click {
            transition: all 0.2s ease;
        }

        .btn-click:active {
            transform: scale(0.95);
            opacity: 0.8;
        }
    </style>
    <!-- Tailwind è‡ªå®šä¹‰é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        love: {
                            pink: '#ff6b8b',
                            red: '#ff385c',
                            purple: '#a855f7',
                            blue: '#3b82f6',
                            cyan: '#06b6d4',
                            yellow: '#f59e0b',
                            gray: '#6b7280'
                        }
                    },
                    fontFamily: {
                        sweet: ['Microsoft YaHei', 'PingFang SC', 'Arial', 'sans-serif']
                    },
                    boxShadow: {
                        'card': '0 2px 12px 0 rgba(255,107,139,0.1)',
                        'btn': '0 4px 6px -1px rgba(255,107,139,0.2)'
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sweet bg-gray-50 min-h-screen text-gray-800">
    <!-- å…¨å±€å®¹å™¨ï¼ˆå…¨å±€å…¥åœºåŠ¨ç”»ï¼‰ -->
    <div id="app" class="page-enter">
        <!-- ====================================== 1. ç™»å½•é¡µé¢ï¼ˆé»˜è®¤ï¼‰ ====================================== -->
        <div id="login-page" class="min-h-screen flex flex-col items-center justify-center px-4 content-padding bg-gradient-to-b from-love-pink/5 to-white">
            <div class="w-full max-w-md bg-white rounded-2xl shadow-card p-6 sm:p-8 module-enter">
                <h1 class="text-2xl sm:text-3xl font-bold text-love-pink text-center mb-8">
                    <i class="fas fa-heart pulse mr-2"></i> å¿ƒåŠ¨é‚‚é€…
                </h1>

                <!-- ç™»å½•è¡¨å•ï¼ˆå¸¦å®æ—¶æ ¡éªŒï¼‰ -->
                <form id="login-form" class="space-y-5 module-enter delay-100">
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="login-username">ç½‘å</label>
                        <input type="text" id="login-username" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-pink/50 focus:border-love-pink transition-all" placeholder="è¯·è¾“å…¥ä½ çš„ç½‘å" required>
                        <p id="login-username-tip" class="text-xs text-red-500 hidden">è¯·å¡«å†™å·²æ³¨å†Œçš„ç½‘å</p>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="login-realname">çœŸå®å§“å</label>
                        <input type="text" id="login-realname" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-pink/50 focus:border-love-pink transition-all" placeholder="è¯·è¾“å…¥æ³¨å†Œæ—¶çš„çœŸå®å§“å" required>
                        <p id="login-realname-tip" class="text-xs text-red-500 hidden">çœŸå®å§“åä¸æ³¨å†Œä¿¡æ¯ä¸ç¬¦</p>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="login-password">å¯†ç </label>
                        <input type="password" id="login-password" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-pink/50 focus:border-love-pink transition-all" placeholder="è¯·è¾“å…¥ä½ çš„å¯†ç " required>
                        <p id="login-password-tip" class="text-xs text-red-500 hidden">å¯†ç é•¿åº¦ä¸å°‘äº6ä½/å¯†ç é”™è¯¯</p>
                    </div>
                    <button type="submit" class="w-full bg-love-pink text-white py-3 rounded-lg hover:bg-love-red transition-all duration-300 font-medium shadow-btn btn-click">
                        ç«‹å³ç™»å½•
                    </button>
                </form>

                <!-- æ³¨å†Œè·³è½¬ -->
                <div class="mt-8 text-center module-enter delay-200">
                    <p class="text-gray-600">è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ <a href="javascript:void(0)" id="to-register" class="text-love-pink hover:underline font-medium">ç«‹å³æ³¨å†Œ</a></p>
                </div>
            </div>
        </div>

        <!-- ====================================== 2. æ³¨å†Œé¡µé¢ ====================================== -->
        <div id="register-page" class="hidden-page min-h-screen flex flex-col items-center justify-center px-4 content-padding bg-gradient-to-b from-love-purple/5 to-white">
            <div class="w-full max-w-md bg-white rounded-2xl shadow-card p-6 sm:p-8 module-enter">
                <h1 class="text-2xl sm:text-3xl font-bold text-love-purple text-center mb-6">
                    <i class="fas fa-user-plus mr-2"></i> æ³¨å†Œè´¦å·
                </h1>

                <!-- æ³¨å†Œè¡¨å•ï¼ˆå…¨åŠŸèƒ½å¯ç”¨ï¼Œå¸¦æ ¡éªŒï¼‰ -->
                <form id="register-form" class="space-y-4 module-enter delay-100">
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium">æ€§åˆ« <span class="text-red-500">*</span></label>
                        <div class="flex gap-6 sm:gap-8">
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="male" class="mr-2 accent-love-pink" required>
                                <span>ç”·</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="female" class="mr-2 accent-love-pink">
                                <span>å¥³</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="other" class="mr-2 accent-love-pink">
                                <span>å…¶ä»–</span>
                            </label>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="register-username">ç½‘åï¼ˆå¯ä¿®æ”¹ï¼‰ <span class="text-red-500">*</span></label>
                        <input type="text" id="register-username" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-purple/50 focus:border-love-purple transition-all" placeholder="è¯·è®¾ç½®ä½ çš„ä¸“å±ç½‘å" required>
                        <p id="register-username-tip" class="text-xs text-red-500 hidden">ç½‘åä¸èƒ½ä¸ºç©ºï¼ˆ2-10ä¸ªå­—ç¬¦ï¼‰</p>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="register-realname">çœŸå®å§“åï¼ˆæ°¸ä¹…ä¸å¯æ”¹ï¼‰ <span class="text-red-500">*</span></label>
                        <input type="text" id="register-realname" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-purple/50 focus:border-love-purple transition-all" placeholder="è¯·å¡«å†™çœŸå®å§“åï¼Œæäº¤åä¸å¯ä¿®æ”¹" required>
                        <p id="register-realname-tip" class="text-xs text-red-500 hidden">çœŸå®å§“åä¸èƒ½ä¸ºç©º</p>
                        <p class="text-xs text-gray-500 mt-1">âš ï¸ æç¤ºï¼šçœŸå®å§“åæäº¤åæ°¸ä¹…ä¸å¯ä¿®æ”¹ï¼Œè¯·è°¨æ…å¡«å†™</p>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="register-password">å¯†ç  <span class="text-red-500">*</span></label>
                        <input type="password" id="register-password" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-purple/50 focus:border-love-purple transition-all" placeholder="è¯·è®¾ç½®6-16ä½å¯†ç " required>
                        <p id="register-password-tip" class="text-xs text-red-500 hidden">å¯†ç é•¿åº¦éœ€åœ¨6-16ä½ä¹‹é—´</p>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-gray-700 font-medium" for="register-code">6ä½éªŒè¯å‡­è¯ <span class="text-red-500">*</span></label>
                        <input type="text" id="register-code" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-purple/50 focus:border-love-purple transition-all" readonly placeholder="ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç”ŸæˆéªŒè¯å‡­è¯">
                        <button type="button" id="generate-code" class="w-full mt-2 bg-love-purple text-white py-2 rounded-lg hover:bg-purple-700 transition-all duration-300 font-medium btn-click">
                            <i class="fas fa-random mr-1"></i> ç”ŸæˆéšæœºéªŒè¯å‡­è¯
                        </button>
                        <p class="text-xs text-gray-500">ğŸ’¡ æç¤ºï¼šéªŒè¯å‡­è¯å°†å‘é€è‡³å¼€å‘è€…ï¼Œç”¨äºå®¡æ ¸æ³¨å†Œ</p>
                    </div>
                    <button type="submit" class="w-full bg-love-purple text-white py-3 rounded-lg hover:bg-purple-700 transition-all duration-300 font-medium shadow-btn btn-click">
                        æäº¤æ³¨å†Œç”³è¯·
                    </button>
                </form>

                <!-- ç™»å½•è·³è½¬ -->
                <div class="mt-6 text-center module-enter delay-200">
                    <p class="text-gray-600">å·²æœ‰è´¦å·ï¼Ÿ <a href="javascript:void(0)" id="to-login" class="text-love-purple hover:underline font-medium">ç«‹å³ç™»å½•</a></p>
                </div>
            </div>
        </div>

        <!-- ====================================== 3. å¼€å‘è€…æ¨¡å¼é¡µé¢ï¼ˆganwu521ä¸“å±ï¼Œå…¨åŠŸèƒ½å¯ç”¨ï¼‰ ====================================== -->
        <div id="dev-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¹³æ¿/ç”µè„‘æ˜¾ç¤ºï¼‰ -->
            <nav class="bg-love-red text-white py-3 px-4 lg:px-8 module-enter hidden sm:flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <h2 class="text-xl lg:text-2xl font-bold">
                    <i class="fas fa-crown mr-2"></i> å¼€å‘è€…æ¨¡å¼ - æ„Ÿæ‚Ÿä¸“å±
                </h2>
                <div class="flex gap-3 lg:gap-4">
                    <button id="dev-audit-btn" class="hover:bg-love-pink px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">å®¡æ ¸æ³¨å†Œ</button>
                    <button id="dev-member-btn" class="hover:bg-love-pink px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">æˆå‘˜ç®¡ç†</button>
                    <button id="dev-file-btn" class="hover:bg-love-pink px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">æ–‡ä»¶ä¸Šä¼ </button>
                    <button id="dev-board-btn" class="hover:bg-love-pink px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">ç•™è¨€ç®¡ç†</button>
                    <button id="dev-logout-btn" class="hover:bg-love-pink px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">é€€å‡ºç™»å½•</button>
                </div>
            </nav>

            <!-- å¼€å‘è€…æ ¸å¿ƒåŠŸèƒ½åŒºï¼ˆä¸‰ç«¯é€‚é…ï¼‰ -->
            <div class="container mx-auto px-4 py-6 lg:py-8">
                <!-- å®¡æ ¸æ³¨å†Œé¢æ¿ï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰ -->
                <div id="dev-audit-panel" class="module-enter">
                    <h3 class="text-lg lg:text-xl font-bold text-love-red mb-6 flex items-center">
                        <i class="fas fa-check-circle mr-2"></i> æ³¨å†Œç”³è¯·å®¡æ ¸
                    </h3>
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6 mb-6">
                        <div class="mb-4 flex justify-between items-center">
                            <p class="text-gray-600"><i class="fas fa-bell text-love-red mr-1"></i> å¾…å®¡æ ¸ç”³è¯·ï¼š<span id="dev-audit-count" class="text-love-red font-bold">0</span>æ¡</p>
                            <button id="dev-refresh-audit" class="text-love-blue hover:underline text-sm btn-click">
                                <i class="fas fa-sync-alt mr-1"></i> åˆ·æ–°
                            </button>
                        </div>
                        <div class="space-y-4 max-h-[70vh] overflow-y-auto pr-2" id="dev-audit-list">
                            <!-- å®¡æ ¸åˆ—è¡¨ç”±JSåŠ¨æ€ç”Ÿæˆ -->
                            <div class="text-center text-gray-500 py-8">
                                <i class="fas fa-inbox text-3xl mb-2"></i>
                                <p>æš‚æ— å¾…å®¡æ ¸çš„æ³¨å†Œç”³è¯·</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æˆå‘˜ç®¡ç†é¢æ¿ï¼ˆé»˜è®¤éšè—ï¼‰ -->
                <div id="dev-member-panel" class="hidden module-enter delay-100">
                    <h3 class="text-lg lg:text-xl font-bold text-love-red mb-6 flex items-center">
                        <i class="fas fa-users mr-2"></i> å…¨ç«™æˆå‘˜ç®¡ç†
                    </h3>
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6 mb-6">
                        <div class="mb-4 flex flex-col sm:flex-row gap-3 justify-between items-center">
                            <div class="relative w-full sm:w-auto sm:flex-1">
                                <input type="text" id="dev-member-search" class="w-full px-4 py-2 pl-10 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-red/50 focus:border-love-red transition-all" placeholder="æœç´¢ç½‘å/çœŸå®å§“å">
                                <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                            </div>
                            <p class="text-gray-600"><i class="fas fa-user text-love-pink mr-1"></i> å…¨ç«™æˆå‘˜ï¼š<span id="dev-member-count" class="text-love-pink font-bold">0</span>äºº</p>
                        </div>
                        <div class="space-y-4 max-h-[70vh] overflow-y-auto pr-2" id="dev-member-list">
                            <!-- æˆå‘˜åˆ—è¡¨ç”±JSåŠ¨æ€ç”Ÿæˆ -->
                            <div class="text-center text-gray-500 py-8">
                                <i class="fas fa-user-friends text-3xl mb-2"></i>
                                <p>æš‚æ— æ³¨å†Œæˆå‘˜</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ–‡ä»¶ä¸Šä¼ é¢æ¿ï¼ˆé»˜è®¤éšè—ï¼‰ -->
                <div id="dev-file-panel" class="hidden module-enter delay-100">
                    <h3 class="text-lg lg:text-xl font-bold text-love-red mb-6 flex items-center">
                        <i class="fas fa-upload mr-2"></i> ç³»ç»Ÿæ–‡ä»¶ä¸Šä¼ 
                    </h3>
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6 mb-6">
                        <div class="border-2 border-dashed border-gray-200 rounded-lg p-6 text-center mb-6 hover:border-love-blue transition-all cursor-pointer" id="dev-file-upload-area">
                            <i class="fas fa-cloud-upload-alt text-4xl text-love-blue mb-3"></i>
                            <p class="text-gray-600 mb-2">ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ä¸Šä¼ </p>
                            <p class="text-xs text-gray-400">æ”¯æŒJPG/PNG/GIF/MP4ï¼Œå•æ–‡ä»¶æœ€å¤§50MB</p>
                            <input type="file" class="hidden" id="dev-file-input" multiple accept="image/*,video/mp4">
                        </div>
                        <div class="space-y-3 max-h-[50vh] overflow-y-auto pr-2" id="dev-file-list">
                            <!-- æ–‡ä»¶åˆ—è¡¨ç”±JSåŠ¨æ€ç”Ÿæˆ -->
                            <div class="text-center text-gray-500 py-6">
                                <i class="fas fa-file text-3xl mb-2"></i>
                                <p>æš‚æ— ä¸Šä¼ æ–‡ä»¶</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç•™è¨€ç®¡ç†é¢æ¿ï¼ˆé»˜è®¤éšè—ï¼‰ -->
                <div id="dev-board-panel" class="hidden module-enter delay-100">
                    <h3 class="text-lg lg:text-xl font-bold text-love-red mb-6 flex items-center">
                        <i class="fas fa-comment-dots mr-2"></i> å…¨ç«™ç•™è¨€æ¿ç®¡ç†
                    </h3>
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6 mb-6">
                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">å‘å¸ƒå®˜æ–¹å…¬å‘Š/ç•™è¨€</label>
                            <textarea id="dev-board-content" class="w-full h-24 lg:h-32 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-red/50 focus:border-love-red transition-all resize-none" placeholder="è¾“å…¥å®˜æ–¹ç•™è¨€å†…å®¹..."></textarea>
                            <div class="flex gap-3 mt-3">
                                <button id="dev-board-publish" class="bg-love-red text-white px-4 py-2 rounded-lg hover:bg-love-pink transition-all btn-click">
                                    <i class="fas fa-paper-plane mr-1"></i> å‘å¸ƒ
                                </button>
                                <button id="dev-board-clear" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-all btn-click">
                                    <i class="fas fa-trash mr-1"></i> æ¸…ç©ºå…¨ç«™ç•™è¨€
                                </button>
                            </div>
                        </div>
                        <div class="space-y-4 max-h-[50vh] overflow-y-auto pr-2" id="dev-board-list">
                            <!-- ç•™è¨€åˆ—è¡¨ç”±JSåŠ¨æ€ç”Ÿæˆ -->
                            <div class="text-center text-gray-500 py-8">
                                <i class="fas fa-comments text-3xl mb-2"></i>
                                <p>å…¨ç«™æš‚æ— ç•™è¨€</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªï¼ˆä»…æ‰‹æœºç«¯æ˜¾ç¤ºï¼‰ -->
            <div class="mobile-nav bg-white shadow-lg py-3 px-4 border-t border-gray-100 sm:hidden module-enter">
                <div class="flex justify-around items-center">
                    <button id="dev-audit-mobile" class="flex flex-col items-center text-love-red btn-click">
                        <i class="fas fa-check-circle text-lg"></i>
                        <span class="text-xs mt-1">å®¡æ ¸</span>
                    </button>
                    <button id="dev-member-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-red transition-all btn-click">
                        <i class="fas fa-users text-lg"></i>
                        <span class="text-xs mt-1">æˆå‘˜</span>
                    </button>
                    <button id="dev-file-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-red transition-all btn-click">
                        <i class="fas fa-upload text-lg"></i>
                        <span class="text-xs mt-1">ä¸Šä¼ </span>
                    </button>
                    <button id="dev-board-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-red transition-all btn-click">
                        <i class="fas fa-comment text-lg"></i>
                        <span class="text-xs mt-1">ç•™è¨€</span>
                    </button>
                    <button id="dev-logout-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-red transition-all btn-click">
                        <i class="fas fa-sign-out-alt text-lg"></i>
                        <span class="text-xs mt-1">é€€å‡º</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ====================================== 4. æ™®é€šç”¨æˆ·ä¸­å¿ƒï¼ˆæ ¸å¿ƒé¡µé¢ï¼Œå…¨åŠŸèƒ½å…¥å£ï¼‰ ====================================== -->
        <div id="user-center-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¹³æ¿/ç”µè„‘æ˜¾ç¤ºï¼‰ -->
            <nav class="bg-love-pink text-white py-3 px-4 lg:px-8 module-enter hidden sm:flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <h2 class="text-xl lg:text-2xl font-bold">
                    <i class="fas fa-heart mr-2"></i> å¿ƒåŠ¨é‚‚é€… - æˆ‘çš„ä¸­å¿ƒ
                </h2>
                <div class="flex gap-3 lg:gap-4">
                    <button id="user-find-btn" class="hover:bg-love-red px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">å¯»å‹é…å¯¹</button>
                    <button id="user-edit-btn" class="hover:bg-love-red px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">ç¼–è¾‘ä¸»é¡µ</button>
                    <button id="user-private-btn" class="hover:bg-love-red px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">ç§å¯†ç©ºé—´</button>
                    <button id="user-setting-btn" class="hover:bg-love-red px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">ç³»ç»Ÿè®¾ç½®</button>
                    <button id="user-logout-btn" class="hover:bg-love-red px-2 lg:px-3 py-1 rounded transition-all text-sm lg:text-base btn-click">é€€å‡ºç™»å½•</button>
                </div>
            </nav>

            <!-- ä¸ªäººä¿¡æ¯å¡ç‰‡ï¼ˆä¸‰ç«¯é€‚é…ï¼‰ -->
            <div class="container mx-auto px-4 py-6">
                <div class="bg-white rounded-xl shadow-card p-4 lg:p-6 module-enter">
                    <div class="flex flex-col sm:flex-row items-center gap-4 lg:gap-8">
                        <!-- å¤´åƒ -->
                        <div class="w-20 h-20 sm:w-24 sm:h-24 avatar-crop border-4 border-love-pink/30">
                            <img id="user-avatar" src="https://picsum.photos/200/200?random=1" alt="ä¸ªäººå¤´åƒ" class="w-full h-full object-cover">
                        </div>
                        <!-- æ ¸å¿ƒä¿¡æ¯ -->
                        <div class="text-center sm:text-left flex-1">
                            <h3 class="text-xl lg:text-2xl font-bold text-gray-800" id="user-username">æµ‹è¯•ç”¨æˆ·</h3>
                            <p class="text-gray-600 text-sm lg:text-base mt-1" id="user-realname">çœŸå®å§“åï¼šXXXï¼ˆæ°¸ä¹…ä¸å¯ä¿®æ”¹ï¼‰</p>
                            <div class="flex flex-wrap justify-center sm:justify-start gap-4 mt-3 text-sm lg:text-base">
                                <p class="text-love-purple"><i class="fas fa-user mr-1"></i> æ€§åˆ«ï¼š<span id="user-gender">ç”·</span></p>
                                <p class="text-love-blue"><i class="fas fa-id-card mr-1"></i> å‡­è¯ï¼š<span id="user-code">123456</span></p>
                                <p class="text-love-red"><i class="fas fa-heart mr-1"></i> æƒ…ä¾£ï¼š<span id="user-couple-status" class="font-medium">æœªé…å¯¹</span></p>
                            </div>
                        </div>
                        <!-- æ‰‹æœºç«¯ç¼–è¾‘æŒ‰é’® -->
                        <button id="user-edit-mobile-btn" class="sm:hidden bg-love-purple text-white px-4 py-2 rounded-lg text-sm btn-click">
                            <i class="fas fa-pen mr-1"></i> ç¼–è¾‘ä¸»é¡µ
                        </button>
                    </div>
                </div>

                <!-- åŠŸèƒ½æ¿å—ç½‘æ ¼ï¼ˆä¸‰ç«¯é€‚é…ï¼šæ‰‹æœº2åˆ—/å¹³æ¿3åˆ—/ç”µè„‘6åˆ—ï¼‰ -->
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 lg:gap-6 mt-6">
                    <!-- å¯»å‹é…å¯¹ -->
                    <div class="bg-white rounded-xl shadow-card p-4 text-center cursor-pointer hover:shadow-lg hover:translate-y-[-2px] transition-all module-enter delay-100 btn-click" id="user-find-card">
                        <div class="w-12 h-12 mx-auto bg-love-blue/10 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-search text-love-blue text-xl"></i>
                        </div>
                        <h4 class="text-sm lg:text-base font-bold text-gray-800">å¯»å‹é…å¯¹</h4>
                        <p class="text-xs lg:text-sm text-gray-500 mt-1">æœç´¢TAï¼Œå¼€å¯ç¼˜åˆ†</p>
                    </div>
                    <!-- ä¸ªäººä¸»é¡µ -->
                    <div class="bg-white rounded-xl shadow-card p-4 text-center cursor-pointer hover:shadow-lg hover:translate-y-[-2px] transition-all module-enter delay-200 btn-click" id="user-home-card">
                        <div class="w-12 h-12 mx-auto bg-love-purple/10 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-user-circle text-love-purple text-xl"></i>
                        </div>
                        <h4 class="text-sm lg:text-base font-bold text-gray-800">ä¸ªäººä¸»é¡µ</h4>
                        <p class="text-xs lg:text-sm text-gray-500 mt-1">å±•ç¤ºä½ çš„ç²¾å½©ç”Ÿæ´»</p>
                    </div>
                    <!-- ç§å¯†ç©ºé—´ -->
                    <div class="bg-white rounded-xl shadow-card p-4 text-center cursor-pointer hover:shadow-lg hover:translate-y-[-2px] transition-all module-enter delay-300 btn-click" id="user-private-card">
                        <div class="w-12 h-12 mx-auto bg-love-red/10 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-heart-lock text-love-red text-xl"></i>
                        </div>
                        <h4 class="text-sm lg:text-base font-bold text-gray-800">ç§å¯†ç©ºé—´</h4>
                        <p class="text-xs lg:text-sm text-gray-500 mt-1">æƒ…ä¾£ä¸“å±ç”œèœœå¤©åœ°</p>
                    </div>
                    <!-- åŠ¨æ€å¹¿åœº -->
                    <div class="bg-white rounded-xl shadow-card p-4 text-center cursor-pointer hover:shadow-lg hover:translate-y-[-2px] transition-all module-enter delay-400 btn-click" id="user-dynamic-card">
                        <div class="w-12 h-12 mx-auto bg-love-cyan/10 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-newspaper text-love-cyan text-xl"></i>
                        </div>
                        <h4 class="text-sm lg:text-base font-bold text-gray-800">åŠ¨æ€å¹¿åœº</h4>
                        <p class="text-xs lg:text-sm text-gray-500 mt-1">æŸ¥çœ‹å¤§å®¶çš„ç”Ÿæ´»åŠ¨æ€</p>
                    </div>
                    <!-- æƒ…ä¾£ä»»åŠ¡ -->
                    <div class="bg-white rounded-xl shadow-card p-4 text-center cursor-pointer hover:shadow-lg hover:translate-y-[-2px] transition-all module-enter delay-500 btn-click" id="user-task-card">
                        <div class="w-12 h-12 mx-auto bg-love-yellow/10 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-tasks text-love-yellow text-xl"></i>
                        </div>
                        <h4 class="text-sm lg:text-base font-bold text-gray-800">æƒ…ä¾£ä»»åŠ¡</h4>
                        <p class="text-xs lg:text-sm text-gray-500 mt-1">å®Œæˆä»»åŠ¡æå‡äº²å¯†å€¼</p>
                    </div>
                    <!-- ç³»ç»Ÿè®¾ç½® -->
                    <div class="bg-white rounded-xl shadow-card p-4 text-center cursor-pointer hover:shadow-lg hover:translate-y-[-2px] transition-all module-enter delay-600 btn-click" id="user-setting-card">
                        <div class="w-12 h-12 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-3">
                            <i class="fas fa-cog text-gray-600 text-xl"></i>
                        </div>
                        <h4 class="text-sm lg:text-base font-bold text-gray-800">ç³»ç»Ÿè®¾ç½®</h4>
                        <p class="text-xs lg:text-sm text-gray-500 mt-1">è´¦å·å®‰å…¨ä¸ä¸ªæ€§åŒ–</p>
                    </div>
                </div>

                <!-- æ•°æ®ç»Ÿè®¡é¢æ¿ï¼ˆä¸‰ç«¯é€‚é…ï¼šæ‰‹æœº1åˆ—/å¹³æ¿2åˆ—/ç”µè„‘4åˆ—ï¼‰ -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mt-6">
                    <!-- ç”Ÿæ´»ç…§ -->
                    <div class="bg-white rounded-xl shadow-card p-4 module-enter delay-100">
                        <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <i class="fas fa-image text-love-blue mr-2"></i> æˆ‘çš„ç”Ÿæ´»ç…§
                        </h4>
                        <div class="grid grid-cols-2 gap-2 mb-3" id="user-photo-list">
                            <div class="h-20 rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all" id="user-photo-add">
                                <div class="w-full h-full bg-gray-100 flex items-center justify-center text-gray-400">
                                    <i class="fas fa-plus text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <input type="file" class="hidden" id="user-photo-input" accept="image/*" multiple>
                        <button class="w-full bg-gray-100 text-gray-700 py-1 rounded text-sm hover:bg-gray-200 transition-all btn-click" id="user-photo-more">ä¸Šä¼ æ›´å¤š</button>
                    </div>
                    <!-- äº²å¯†å€¼ -->
                    <div class="bg-white rounded-xl shadow-card p-4 module-enter delay-200">
                        <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <i class="fas fa-star text-love-yellow mr-2"></i> äº²å¯†å€¼
                        </h4>
                        <div class="text-center">
                            <p class="text-3xl font-bold text-love-purple" id="user-intimacy">0</p>
                            <p class="text-xs text-gray-500 mt-1" id="user-intimacy-tip">é…å¯¹æƒ…ä¾£åå¯ç§¯ç´¯äº²å¯†å€¼</p>
                        </div>
                    </div>
                    <!-- è¿‘æœŸè®¿å®¢ -->
                    <div class="bg-white rounded-xl shadow-card p-4 module-enter delay-300">
                        <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <i class="fas fa-eye text-love-cyan mr-2"></i> è¿‘æœŸè®¿å®¢
                        </h4>
                        <div class="flex gap-2 overflow-x-auto pb-2" id="user-visitor-list">
                            <div class="w-10 h-10 avatar-crop border-2 border-gray-200 flex items-center justify-center bg-gray-100 text-gray-400">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                    </div>
                    <!-- ç³»ç»Ÿé€šçŸ¥ -->
                    <div class="bg-white rounded-xl shadow-card p-4 module-enter delay-400">
                        <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <i class="fas fa-bell text-love-red mr-2"></i> ç³»ç»Ÿé€šçŸ¥
                        </h4>
                        <div class="text-center" id="user-notice">
                            <p class="text-gray-500 text-sm">æš‚æ— æ–°é€šçŸ¥</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªï¼ˆä»…æ‰‹æœºç«¯æ˜¾ç¤ºï¼‰ -->
            <div class="mobile-nav bg-white shadow-lg py-3 px-4 border-t border-gray-100 sm:hidden module-enter">
                <div class="flex justify-around items-center">
                    <button id="user-home-mobile" class="flex flex-col items-center text-love-pink btn-click">
                        <i class="fas fa-home text-lg"></i>
                        <span class="text-xs mt-1">é¦–é¡µ</span>
                    </button>
                    <button id="user-find-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-pink transition-all btn-click">
                        <i class="fas fa-search text-lg"></i>
                        <span class="text-xs mt-1">å¯»å‹</span>
                    </button>
                    <button id="user-private-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-pink transition-all btn-click">
                        <i class="fas fa-heart-lock text-lg"></i>
                        <span class="text-xs mt-1">ç§å¯†</span>
                    </button>
                    <button id="user-setting-mobile" class="flex flex-col items-center text-gray-500 hover:text-love-pink transition-all btn-click">
                        <i class="fas fa-cog text-lg"></i>
                        <span class="text-xs mt-1">è®¾ç½®</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ====================================== 5. ç¼–è¾‘ä¸»é¡µé¡µé¢ï¼ˆå…¨åŠŸèƒ½å¯ç”¨ï¼Œæ•°æ®å¯ä¿®æ”¹ï¼‰ ====================================== -->
        <div id="user-edit-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-love-purple text-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <button id="edit-back-btn" class="hover:bg-purple-700 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold">ç¼–è¾‘æˆ‘çš„ä¸»é¡µ</h2>
                <button id="edit-save-btn" class="bg-white text-love-purple hover:bg-gray-100 px-3 py-1 rounded transition-all text-sm lg:text-base font-medium btn-click">
                    ä¿å­˜ä¿®æ”¹
                </button>
            </nav>

            <div class="container mx-auto px-4 py-6">
                <div class="bg-white rounded-xl shadow-card p-4 lg:p-6 module-enter delay-100">
                    <form id="user-edit-form" class="space-y-6">
                        <!-- å¤´åƒä¿®æ”¹ -->
                        <div class="space-y-3">
                            <label class="block text-gray-700 font-medium">ä¸ªäººå¤´åƒ <span class="text-gray-500 text-sm">ï¼ˆç‚¹å‡»æ›´æ¢ï¼Œæ”¯æŒJPG/PNGï¼‰</span></label>
                            <div class="flex items-center gap-4">
                                <div class="w-24 h-24 avatar-crop border-4 border-love-purple/30 cursor-pointer hover:opacity-90 transition-all" id="edit-avatar-box">
                                    <img id="edit-avatar" src="https://picsum.photos/200/200?random=1" alt="æ›´æ¢å¤´åƒ" class="w-full h-full object-cover">
                                </div>
                                <input type="file" class="hidden" id="edit-avatar-input" accept="image/*">
                                <button type="button" id="edit-avatar-btn" class="bg-love-purple/10 text-love-purple px-4 py-2 rounded-lg hover:bg-love-purple/20 transition-all btn-click">
                                    <i class="fas fa-upload mr-1"></i> æ›´æ¢å¤´åƒ
                                </button>
                            </div>
                        </div>
                        <!-- ç½‘åä¿®æ”¹ -->
                        <div class="space-y-2">
                            <label class="block text-gray-700 font-medium" for="edit-username">ä¸“å±ç½‘å <span class="text-gray-500 text-sm">ï¼ˆå¯è‡ªç”±ä¿®æ”¹ï¼Œ2-10å­—ç¬¦ï¼‰</span></label>
                            <input type="text" id="edit-username" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-purple/50 focus:border-love-purple transition-all" placeholder="è¯·è¾“å…¥æ–°ç½‘å" required>
                            <p id="edit-username-tip" class="text-xs text-red-500 hidden">ç½‘åé•¿åº¦éœ€åœ¨2-10ä¸ªå­—ç¬¦ä¹‹é—´</p>
                        </div>
                        <!-- èƒŒæ™¯å›¾ä¿®æ”¹ -->
                        <div class="space-y-3">
                            <label class="block text-gray-700 font-medium">ä¸»é¡µèƒŒæ™¯å›¾ <span class="text-gray-500 text-sm">ï¼ˆç‚¹å‡»æ›´æ¢ï¼Œæ”¯æŒJPG/PNGï¼‰</span></label>
                            <div class="w-full h-40 rounded-lg overflow-hidden border-2 border-dashed border-gray-200 cursor-pointer hover:border-love-purple transition-all" id="edit-bg-box">
                                <img id="edit-bg" src="https://picsum.photos/1200/400?random=10" alt="æ›´æ¢èƒŒæ™¯" class="w-full h-full object-cover">
                            </div>
                            <input type="file" class="hidden" id="edit-bg-input" accept="image/*">
                            <button type="button" id="edit-bg-btn" class="bg-love-purple/10 text-love-purple px-4 py-2 rounded-lg hover:bg-love-purple/20 transition-all btn-click">
                                <i class="fas fa-upload mr-1"></i> æ›´æ¢èƒŒæ™¯å›¾
                            </button>
                        </div>
                        <!-- ä¸ªæ€§ç­¾å -->
                        <div class="space-y-2">
                            <label class="block text-gray-700 font-medium" for="edit-signature">ä¸ªæ€§ç­¾å <span class="text-gray-500 text-sm">ï¼ˆ0-20å­—ç¬¦ï¼‰</span></label>
                            <input type="text" id="edit-signature" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-purple/50 focus:border-love-purple transition-all" placeholder="è¾“å…¥ä½ çš„ä¸ªæ€§ç­¾åï¼Œå±•ç¤ºåœ¨ä¸»é¡µ">
                            <p class="text-xs text-gray-500"><span id="edit-signature-count">0</span>/20 å­—ç¬¦</p>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- ====================================== 6. å¯»å‹é…å¯¹é¡µé¢ï¼ˆå…¨åŠŸèƒ½å¯ç”¨ï¼Œå¯æœç´¢/è¡¨ç™½/é…å¯¹ï¼‰ ====================================== -->
        <div id="user-find-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-love-blue text-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <button id="find-back-btn" class="hover:bg-blue-600 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold">å¯»å‹é…å¯¹</h2>
                <div></div>
            </nav>

            <div class="container mx-auto px-4 py-6">
                <!-- æœç´¢æ¡† -->
                <div class="w-full max-w-md mx-auto module-enter delay-100">
                    <form id="find-form" class="flex gap-2">
                        <input type="text" id="find-username" class="flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-blue/50 focus:border-love-blue transition-all" placeholder="è¾“å…¥å¯¹æ–¹ç½‘åç²¾å‡†æœç´¢" required>
                        <button type="submit" class="bg-love-blue text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-all shadow-btn btn-click">
                            <i class="fas fa-search mr-1"></i> æœç´¢
                        </button>
                    </form>
                    <p class="text-xs text-gray-500 mt-2 text-center">ğŸ’¡ ä»…èƒ½æœç´¢å·²é€šè¿‡å¼€å‘è€…å®¡æ ¸çš„ç”¨æˆ·</p>
                </div>

                <!-- æœç´¢ç»“æœ -->
                <div class="mt-8 max-w-md mx-auto module-enter delay-200" id="find-result">
                    <!-- æ— ç»“æœ -->
                    <div id="find-no-result" class="bg-white rounded-xl shadow-card p-6 text-center">
                        <i class="fas fa-search-plus text-3xl text-gray-400 mb-3"></i>
                        <p class="text-gray-500">æš‚æ— æœç´¢ç»“æœï¼Œè¯·è¾“å…¥æ­£ç¡®çš„ç½‘å</p>
                    </div>
                    <!-- æœ‰ç»“æœï¼ˆé»˜è®¤éšè—ï¼‰ -->
                    <div id="find-have-result" class="hidden bg-white rounded-xl shadow-card p-6">
                        <div class="flex flex-col items-center">
                            <!-- TAçš„å¤´åƒ -->
                            <div class="w-32 h-32 avatar-crop border-4 border-love-blue/30 mb-4">
                                <img id="ta-avatar" src="https://picsum.photos/300/300?random=2" alt="TAçš„å¤´åƒ" class="w-full h-full object-cover">
                            </div>
                            <!-- TAçš„ä¿¡æ¯ -->
                            <h3 class="text-2xl font-bold text-gray-800 mb-1" id="ta-username">å¿ƒåŠ¨çš„TA</h3>
                            <p class="text-gray-600 mb-3" id="ta-gender">æ€§åˆ«ï¼šå¥³</p>
                            <p class="text-love-purple text-sm mb-4" id="ta-couple-status">æƒ…ä¾£çŠ¶æ€ï¼šæœªé…å¯¹</p>
                            <!-- TAçš„ç”Ÿæ´»ç…§ -->
                            <p class="text-gray-700 font-medium self-start mb-2">ç”Ÿæ´»ç…§å±•ç¤º</p>
                            <div class="grid grid-cols-2 gap-3 w-full mb-6" id="ta-photo-list">
                                <div class="h-24 rounded-lg overflow-hidden">
                                    <img src="https://picsum.photos/400/300?random=3" alt="TAçš„ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                                </div>
                                <div class="h-24 rounded-lg overflow-hidden">
                                    <img src="https://picsum.photos/400/301?random=4" alt="TAçš„ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                                </div>
                            </div>
                            <!-- è¡¨ç™½æŒ‰é’® -->
                            <button id="send-confess-btn" class="w-full bg-love-pink text-white py-3 rounded-lg hover:bg-love-red transition-all duration-300 font-medium shadow-btn btn-click">
                                <i class="fas fa-heart mr-1"></i> å‘é€è¡¨ç™½ç”³è¯·
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ====================================== 7. ç§å¯†ç©ºé—´é¡µé¢ï¼ˆå…¨åŠŸèƒ½å¯ç”¨ï¼Œç»­ç«èŠ±/åŠ äº²å¯†å€¼/ç•™è¨€ï¼‰ ====================================== -->
        <div id="user-private-page" class="hidden-page min-h-screen bg-gradient-to-b from-love-pink/10 to-love-purple/10 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-love-red text-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <button id="private-back-btn" class="hover:bg-love-pink px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold">ä¸“å±ç§å¯†ç©ºé—´</h2>
                <div></div>
            </nav>

            <div class="container mx-auto px-4 py-6">
                <div class="max-w-lg mx-auto bg-white rounded-2xl shadow-card p-6 lg:p-8 module-enter delay-100">
                    <!-- æƒ…ä¾£å¤´åƒä¾å -->
                    <div class="flex justify-center items-center gap-4 mb-8 relative">
                        <div class="w-20 h-20 avatar-crop border-3 border-love-pink -mr-4 z-20 bg-white p-1">
                            <img id="private-my-avatar" src="https://picsum.photos/200/200?random=1" alt="æˆ‘çš„å¤´åƒ" class="w-full h-full object-cover">
                        </div>
                        <div class="w-20 h-20 avatar-crop border-3 border-love-pink z-10 bg-white p-1">
                            <img id="private-ta-avatar" src="https://picsum.photos/300/300?random=2" alt="æƒ…ä¾£å¤´åƒ" class="w-full h-full object-cover">
                        </div>
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-love-red rounded-full flex items-center justify-center text-white border-4 border-white sparkle">
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>

                    <!-- æƒ…ä¾£æ ¸å¿ƒä¿¡æ¯ -->
                    <div class="text-center mb-8">
                        <h3 class="text-xl lg:text-2xl font-bold text-gray-800 flex justify-center items-center gap-2">
                            <span id="private-my-name">æˆ‘çš„ç½‘å</span>
                            <span class="text-love-red"><i class="fas fa-heart"></i></span>
                            <span id="private-ta-name">æƒ…ä¾£ç½‘å</span>
                        </h3>
                        <div class="flex justify-center gap-6 mt-3 text-sm lg:text-base">
                            <p class="text-love-pink">
                                <i class="fas fa-fire-alt sparkle mr-1"></i> ç«èŠ±å¤©æ•°ï¼š<span id="private-sparkle-days" class="font-bold">1</span>å¤©
                            </p>
                            <p class="text-love-purple">
                                <i class="fas fa-star mr-1"></i> äº²å¯†å€¼ï¼š<span id="private-intimacy" class="font-bold">99</span>
                            </p>
                        </div>
                        <button id="private-renew-sparkle" class="mt-4 bg-love-red/10 text-love-red px-4 py-2 rounded-lg hover:bg-love-red/20 transition-all btn-click">
                            <i class="fas fa-sync-alt mr-1"></i> ä»Šæ—¥ç»­ç«èŠ±
                        </button>
                    </div>

                    <!-- æƒ…ä¾£ç•™è¨€æ¿ -->
                    <div class="border-t border-gray-100 pt-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-comment-dots text-love-pink mr-2"></i> æƒ…ä¾£æ‚„æ‚„è¯
                        </h4>
                        <div class="space-y-4 max-h-[30vh] overflow-y-auto pr-2 mb-4" id="private-msg-list">
                            <!-- å¯¹æ–¹ç•™è¨€ -->
                            <div class="flex flex-col items-start">
                                <p class="text-xs text-gray-500 mb-1">TA Â· åˆšåˆš</p>
                                <p class="bg-gray-100 px-4 py-2 rounded-lg rounded-tl-none max-w-[80%]">å®è´ï¼Œä»Šå¤©ä¹Ÿè¦å¼€å¿ƒå‘€ï½</p>
                            </div>
                            <!-- æˆ‘çš„ç•™è¨€ -->
                            <div class="flex flex-col items-end">
                                <p class="text-xs text-gray-500 mb-1">æˆ‘ Â· 1åˆ†é’Ÿå‰</p>
                                <p class="bg-love-pink/10 text-love-pink px-4 py-2 rounded-lg rounded-tr-none max-w-[80%]">æ”¶åˆ°ï½ä½ ä¹Ÿæ˜¯ğŸ˜˜</p>
                            </div>
                        </div>
                        <!-- å‘é€ç•™è¨€ -->
                        <form id="private-msg-form" class="flex gap-2">
                            <input type="text" id="private-msg-input" class="flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-pink/50 focus:border-love-pink transition-all" placeholder="æƒ³å¯¹TAè¯´äº›ä»€ä¹ˆ..." required>
                            <button type="submit" class="bg-love-pink text-white px-3 py-2 rounded-lg hover:bg-love-red transition-all btn-click">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                    </div>
                </div>

                <!-- æƒ…ä¾£ä»»åŠ¡åŒº -->
                <div class="max-w-lg mx-auto mt-6 bg-white rounded-xl shadow-card p-4 lg:p-6 module-enter delay-200">
                    <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-tasks text-love-yellow mr-2"></i> ä»Šæ—¥æƒ…ä¾£ä»»åŠ¡
                    </h4>
                    <div class="space-y-3" id="private-task-list">
                        <div class="flex justify-between items-center p-3 border border-gray-100 rounded-lg">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-hand-holding-heart text-love-pink"></i>
                                <p class="text-sm">å’ŒTAäº’é“æ—©æ™šå®‰</p>
                            </div>
                            <button class="bg-love-yellow/10 text-love-yellow px-3 py-1 rounded-lg text-sm hover:bg-love-yellow/20 transition-all btn-click">å®Œæˆ+10äº²å¯†å€¼</button>
                        </div>
                        <div class="flex justify-between items-center p-3 border border-gray-100 rounded-lg">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-camera text-love-blue"></i>
                                <p class="text-sm">å’ŒTAåˆæ‹ä¸€å¼ ç…§ç‰‡</p>
                            </div>
                            <button class="bg-love-yellow/10 text-love-yellow px-3 py-1 rounded-lg text-sm hover:bg-love-yellow/20 transition-all btn-click">å®Œæˆ+20äº²å¯†å€¼</button>
                        </div>
                        <div class="flex justify-between items-center p-3 border border-gray-100 rounded-lg">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-walk text-love-green"></i>
                                <p class="text-sm">å’ŒTAä¸€èµ·æ•£æ­¥30åˆ†é’Ÿ</p>
                            </div>
                            <button class="bg-love-yellow/10 text-love-yellow px-3 py-1 rounded-lg text-sm hover:bg-love-yellow/20 transition-all btn-click">å®Œæˆ+30äº²å¯†å€¼</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ====================================== 8. ä¸ªäººä¸»é¡µé¡µé¢ï¼ˆå…¨åŠŸèƒ½å±•ç¤ºï¼Œè®¿å®¢è®°å½•+åŠ¨æ€ï¼‰ ====================================== -->
        <div id="user-home-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 shadow-sm backdrop-filter: blur(4px)">
                <button id="home-back-btn" class="hover:bg-gray-100 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold text-gray-800">æˆ‘çš„ä¸ªäººä¸»é¡µ</h2>
                <button id="home-share-btn" class="hover:bg-gray-100 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-share-alt mr-1"></i> åˆ†äº«
                </button>
            </nav>

            <!-- ä¸»é¡µèƒŒæ™¯+å¤´åƒ -->
            <div class="w-full h-48 lg:h-64 relative module-enter">
                <img id="home-bg" src="https://picsum.photos/1200/400?random=10" alt="ä¸»é¡µèƒŒæ™¯" class="w-full h-full object-cover">
                <div class="absolute bottom-0 left-4 lg:left-8 -mb-12 lg:-mb-16 w-24 h-24 lg:w-32 lg:h-32 avatar-crop border-4 border-white bg-white">
                    <img id="home-avatar" src="https://picsum.photos/200/200?random=1" alt="ä¸ªäººå¤´åƒ" class="w-full h-full object-cover">
                </div>
            </div>

            <div class="container mx-auto px-4 py-16 lg:py-20">
                <div class="max-w-lg mx-auto">
                    <!-- ä¸ªäººä¿¡æ¯ -->
                    <div class="text-center mb-8 module-enter delay-100">
                        <h3 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2" id="home-username">æµ‹è¯•ç”¨æˆ·</h3>
                        <p class="text-gray-600 mb-3" id="home-signature">æ„¿æœ‰äººé™ªä½ é¢ æ²›æµç¦»ï¼Œæ„¿ä½ å†å°½åƒå¸†å½’æ¥ä»æ˜¯å°‘å¹´</p>
                        <div class="flex justify-center gap-6 text-sm lg:text-base">
                            <p class="text-love-purple"><i class="fas fa-user mr-1"></i> <span id="home-gender">ç”·</span></p>
                            <p class="text-love-blue"><i class="fas fa-heart mr-1"></i> <span id="home-couple">å·²é…å¯¹</span></p>
                            <p class="text-love-cyan"><i class="fas fa-eye mr-1"></i> <span id="home-visit-count">99+</span>è®¿å®¢</p>
                        </div>
                    </div>

                    <!-- ç”Ÿæ´»ç…§ç›¸å†Œ -->
                    <div class="mb-8 module-enter delay-200">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-images text-love-pink mr-2"></i> æˆ‘çš„ç”Ÿæ´»ç…§
                        </h4>
                        <div class="grid grid-cols-3 gap-2" id="home-photo-list">
                            <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all">
                                <img src="https://picsum.photos/400/300?random=3" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                            </div>
                            <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all">
                                <img src="https://picsum.photos/400/301?random=4" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                            </div>
                            <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all">
                                <img src="https://picsum.photos/400/302?random=5" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                            </div>
                            <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all">
                                <img src="https://picsum.photos/400/303?random=6" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                            </div>
                            <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all">
                                <img src="https://picsum.photos/400/304?random=7" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                            </div>
                            <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all">
                                <img src="https://picsum.photos/400/305?random=8" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">
                            </div>
                        </div>
                    </div>

                    <!-- æˆ‘çš„åŠ¨æ€ -->
                    <div class="mb-8 module-enter delay-300">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-newspaper text-love-blue mr-2"></i> æˆ‘çš„ç”Ÿæ´»åŠ¨æ€
                        </h4>
                        <div class="space-y-6" id="home-dynamic-list">
                            <div class="bg-white rounded-xl shadow-card p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-10 h-10 avatar-crop">
                                        <img src="https://picsum.photos/200/200?random=1" alt="å¤´åƒ" class="w-full h-full object-cover">
                                    </div>
                                    <div>
                                        <p class="font-bold text-gray-800">æµ‹è¯•ç”¨æˆ·</p>
                                        <p class="text-xs text-gray-500">2026-01-28 Â· ä»Šå¤©</p>
                                    </div>
                                </div>
                                <p class="text-gray-800 mb-3">ä»Šå¤©å’Œå–œæ¬¢çš„äººä¸€èµ·å»çœ‹äº†æµ·ï¼Œè¶…å¼€å¿ƒï½ğŸŒŠ</p>
                                <div class="grid grid-cols-2 gap-2 mb-3">
                                    <div class="rounded-lg overflow-hidden">
                                        <img src="https://picsum.photos/800/600?random=9" alt="åŠ¨æ€å›¾ç‰‡" class="w-full h-full object-cover">
                                    </div>
                                    <div class="rounded-lg overflow-hidden">
                                        <img src="https://picsum.photos/800/601?random=10" alt="åŠ¨æ€å›¾ç‰‡" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <div class="flex justify-between text-sm text-gray-500">
                                    <p class="cursor-pointer hover:text-love-pink transition-all"><i class="fas fa-heart mr-1"></i> 520</p>
                                    <p class="cursor-pointer hover:text-love-blue transition-all"><i class="fas fa-comment mr-1"></i> 1314</p>
                                </div>
                            </div>
                        </div>
                        <button class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-all btn-click">
                            åŠ è½½æ›´å¤šåŠ¨æ€
                        </button>
                    </div>

                    <!-- è¿‘æœŸè®¿å®¢ -->
                    <div class="module-enter delay-400">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-eye text-love-cyan mr-2"></i> è¿‘æœŸè®¿å®¢
                        </h4>
                        <div class="flex gap-3 overflow-x-auto pb-3" id="home-visitor-list">
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 avatar-crop border-2 border-gray-200 cursor-pointer hover:border-love-pink transition-all">
                                    <img src="https://picsum.photos/100/101?random=11" alt="è®¿å®¢" class="w-full h-full object-cover">
                                </div>
                                <p class="text-xs text-gray-800 mt-1 w-16 truncate text-center">å¿ƒåŠ¨çš„TA</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 avatar-crop border-2 border-gray-200 cursor-pointer hover:border-love-pink transition-all">
                                    <img src="https://picsum.photos/100/102?random=12" alt="è®¿å®¢" class="w-full h-full object-cover">
                                </div>
                                <p class="text-xs text-gray-800 mt-1 w-16 truncate text-center">éš”å£å°ç‹</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 avatar-crop border-2 border-gray-200 cursor-pointer hover:border-love-pink transition-all">
                                    <img src="https://picsum.photos/100/103?random=13" alt="è®¿å®¢" class="w-full h-full object-cover">
                                </div>
                                <p class="text-xs text-gray-800 mt-1 w-16 truncate text-center">çˆ±ç¬‘çš„å¥³å­©</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ====================================== 9. åŠ¨æ€å¹¿åœºé¡µé¢ï¼ˆå…¨åŠŸèƒ½æµè§ˆ/äº’åŠ¨ï¼‰ ====================================== -->
        <div id="user-dynamic-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-love-cyan text-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <button id="dynamic-back-btn" class="hover:bg-cyan-600 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold">åŠ¨æ€å¹¿åœº</h2>
                <button id="dynamic-publish-btn" class="bg-white text-love-cyan hover:bg-gray-100 px-3 py-1 rounded transition-all text-sm lg:text-base font-medium btn-click">
                    <i class="fas fa-plus mr-1"></i> å‘å¸ƒåŠ¨æ€
                </button>
            </nav>

            <div class="container mx-auto px-4 py-6">
                <!-- å¹¿åœºæœç´¢/ç­›é€‰ -->
                <div class="max-w-lg mx-auto flex gap-2 mb-6 module-enter delay-100">
                    <input type="text" class="flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-love-cyan/50 focus:border-love-cyan transition-all" placeholder="æœç´¢åŠ¨æ€/ç”¨æˆ·">
                    <button class="bg-love-cyan text-white px-3 py-2 rounded-lg hover:bg-cyan-600 transition-all btn-click">
                        <i class="fas fa-search"></i>
                    </button>
                </div>

                <!-- åŠ¨æ€åˆ—è¡¨ -->
                <div class="max-w-lg mx-auto space-y-6 module-enter delay-200" id="dynamic-list">
                    <div class="bg-white rounded-xl shadow-card p-4">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-10 h-10 avatar-crop">
                                <img src="https://picsum.photos/200/200?random=14" alt="ç”¨æˆ·å¤´åƒ" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <p class="font-bold text-gray-800">çˆ±ç¬‘çš„å¥³å­©</p>
                                <p class="text-xs text-gray-500">2026-01-27 Â· æ˜¨å¤©</p>
                            </div>
                        </div>
                        <p class="text-gray-800 mb-3">æ‰“å¡ä¸€å®¶è¶…å¥½åƒçš„ç”œå“åº—ï¼Œé¢œå€¼å’Œå‘³é“åŒåœ¨çº¿ï½ğŸ°</p>
                        <div class="grid grid-cols-3 gap-2 mb-3">
                            <div class="rounded-lg overflow-hidden">
                                <img src="https://picsum.photos/500/500?random=15" alt="ç”œå“" class="w-full h-full object-cover">
                            </div>
                            <div class="rounded-lg overflow-hidden">
                                <img src="https://picsum.photos/500/501?random=16" alt="ç”œå“" class="w-full h-full object-cover">
                            </div>
                            <div class="rounded-lg overflow-hidden">
                                <img src="https://picsum.photos/500/502?random=17" alt="ç”œå“" class="w-full h-full object-cover">
                            </div>
                        </div>
                        <div class="flex justify-between text-sm">
                            <button class="flex items-center gap-1 text-gray-500 hover:text-love-pink transition-all btn-click">
                                <i class="fas fa-heart"></i> <span>328</span>
                            </button>
                            <button class="flex items-center gap-1 text-gray-500 hover:text-love-blue transition-all btn-click">
                                <i class="fas fa-comment"></i> <span>66</span>
                            </button>
                            <button class="flex items-center gap-1 text-gray-500 hover:text-love-cyan transition-all btn-click">
                                <i class="fas fa-share-alt"></i> <span>18</span>
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-card p-4">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-10 h-10 avatar-crop">
                                <img src="https://picsum.photos/200/200?random=18" alt="ç”¨æˆ·å¤´åƒ" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <p class="font-bold text-gray-800">è¿½é£çš„å°‘å¹´</p>
                                <p class="text-xs text-gray-500">2026-01-27 Â· æ˜¨å¤©</p>
                            </div>
                        </div>
                        <p class="text-gray-800 mb-3">å‘¨æœ«çˆ¬å±±çš„å¿«ä¹ï¼Œç™»é¡¶çš„é‚£ä¸€åˆ»æ‰€æœ‰ç–²æƒ«éƒ½æ¶ˆå¤±äº†ï½â›°ï¸</p>
                        <div class="rounded-lg overflow-hidden mb-3">
                            <img src="https://picsum.photos/800/400?random=19" alt="çˆ¬å±±" class="w-full h-full object-cover">
                        </div>
                        <div class="flex justify-between text-sm">
                            <button class="flex items-center gap-1 text-gray-500 hover:text-love-pink transition-all btn-click">
                                <i class="fas fa-heart"></i> <span>456</span>
                            </button>
                            <button class="flex items-center gap-1 text-gray-500 hover:text-love-blue transition-all btn-click">
                                <i class="fas fa-comment"></i> <span>99</span>
                            </button>
                            <button class="flex items-center gap-1 text-gray-500 hover:text-love-cyan transition-all btn-click">
                                <i class="fas fa-share-alt"></i> <span>23</span>
                            </button>
                        </div>
                    </div>

                    <!-- åŠ è½½æ›´å¤š -->
                    <button class="w-full bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 transition-all btn-click">
                        <i class="fas fa-spinner fa-spin mr-2"></i> åŠ è½½æ›´å¤š
                    </button>
                </div>
            </div>
        </div>

        <!-- ====================================== 10. æƒ…ä¾£ä»»åŠ¡é¡µé¢ï¼ˆå…¨åŠŸèƒ½å®Œæˆ/é¢†å¥–åŠ±ï¼‰ ====================================== -->
        <div id="user-task-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-love-yellow text-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <button id="task-back-btn" class="hover:bg-yellow-600 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold">æƒ…ä¾£ä»»åŠ¡ä¸­å¿ƒ</h2>
                <div></div>
            </nav>

            <div class="container mx-auto px-4 py-6">
                <div class="max-w-lg mx-auto module-enter delay-100">
                    <!-- ä»»åŠ¡ç»Ÿè®¡ -->
                    <div class="bg-white rounded-xl shadow-card p-4 mb-6 flex justify-between items-center">
                        <div class="text-center">
                            <p class="text-gray-500 text-sm">ä»Šæ—¥å®Œæˆ</p>
                            <p class="text-2xl font-bold text-love-yellow" id="task-today-complete">0/5</p>
                        </div>
                        <div class="text-center">
                            <p class="text-gray-500 text-sm">ç´¯è®¡äº²å¯†å€¼</p>
                            <p class="text-2xl font-bold text-love-purple" id="task-total-intimacy">99</p>
                        </div>
                        <div class="text-center">
                            <p class="text-gray-500 text-sm">è¿ç»­æ‰“å¡</p>
                            <p class="text-2xl font-bold text-love-red" id="task-continue-days">3å¤©</p>
                        </div>
                    </div>

                    <!-- ä»Šæ—¥æ—¥å¸¸ä»»åŠ¡ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-sun text-love-yellow mr-2"></i> ä»Šæ—¥æ—¥å¸¸ä»»åŠ¡
                        </h4>
                        <div class="space-y-3" id="task-daily-list">
                            <div class="bg-white rounded-xl shadow-card p-4 flex justify-between items-center">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-love-yellow/10 flex items-center justify-center text-love-yellow">
                                        <i class="fas fa-message"></i>
                                    </div>
                                    <p class="text-gray-800">å’ŒTAå‘é€æ¶ˆæ¯â‰¥10æ¡</p>
                                </div>
                                <button class="bg-love-yellow text-white px-3 py-1 rounded-lg text-sm hover:bg-yellow-600 transition-all btn-click">å®Œæˆ+5äº²å¯†å€¼</button>
                            </div>
                            <div class="bg-white rounded-xl shadow-card p-4 flex justify-between items-center">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-love-yellow/10 flex items-center justify-center text-love-yellow">
                                        <i class="fas fa-gift"></i>
                                    </div>
                                    <p class="text-gray-800">ç»™TAé€ä¸€ä»½è™šæ‹Ÿç¤¼ç‰©</p>
                                </div>
                                <button class="bg-love-yellow text-white px-3 py-1 rounded-lg text-sm hover:bg-yellow-600 transition-all btn-click">å®Œæˆ+15äº²å¯†å€¼</button>
                            </div>
                            <div class="bg-white rounded-xl shadow-card p-4 flex justify-between items-center">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-love-yellow/10 flex items-center justify-center text-love-yellow">
                                        <i class="fas fa-music"></i>
                                    </div>
                                    <p class="text-gray-800">å’ŒTAä¸€èµ·å¬ä¸€é¦–æ­Œ</p>
                                </div>
                                <button class="bg-love-yellow text-white px-3 py-1 rounded-lg text-sm hover:bg-yellow-600 transition-all btn-click">å®Œæˆ+10äº²å¯†å€¼</button>
                            </div>
                        </div>
                    </div>

                    <!-- æ¯å‘¨æŒ‘æˆ˜ä»»åŠ¡ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-trophy text-love-red mr-2"></i> æ¯å‘¨æŒ‘æˆ˜ä»»åŠ¡
                        </h4>
                        <div class="space-y-3" id="task-weekly-list">
                            <div class="bg-white rounded-xl shadow-card p-4 flex justify-between items-center">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-love-red/10 flex items-center justify-center text-love-red">
                                        <i class="fas fa-calendar-check"></i>
                                    </div>
                                    <div>
                                        <p class="text-gray-800">è¿ç»­7å¤©ç»­ç«èŠ±</p>
                                        <p class="text-xs text-gray-500">è¿›åº¦ï¼š3/7å¤©</p>
                                    </div>
                                </div>
                                <button class="bg-love-red text-white px-3 py-1 rounded-lg text-sm hover:bg-love-pink transition-all btn-click">å®Œæˆ+100äº²å¯†å€¼</button>
                            </div>
                            <div class="bg-white rounded-xl shadow-card p-4 flex justify-between items-center">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-love-red/10 flex items-center justify-center text-love-red">
                                        <i class="fas fa-heart"></i>
                                    </div>
                                    <div>
                                        <p class="text-gray-800">ç´¯è®¡äº²å¯†å€¼è¾¾åˆ°520</p>
                                        <p class="text-xs text-gray-500">è¿›åº¦ï¼š99/520</p>
                                    </div>
                                </div>
                                <button class="bg-love-red text-white px-3 py-1 rounded-lg text-sm hover:bg-love-pink transition-all btn-click">å®Œæˆ+200äº²å¯†å€¼</button>
                            </div>
                        </div>
                    </div>

                    <!-- ä»»åŠ¡å¥–åŠ±ä¸­å¿ƒ -->
                    <div>
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-award text-love-purple mr-2"></i> å¥–åŠ±ä¸­å¿ƒ
                        </h4>
                        <div class="bg-white rounded-xl shadow-card p-4">
                            <div class="space-y-3">
                                <div class="flex justify-between items-center p-2 border-b border-gray-100">
                                    <p class="text-gray-800">äº²å¯†å€¼Ã—52</p>
                                    <button class="bg-love-purple/10 text-love-purple px-3 py-1 rounded-lg text-sm hover:bg-love-purple/20 transition-all btn-click">äº²å¯†å€¼â‰¥100å¯é¢†å–</button>
                                </div>
                                <div class="flex justify-between items-center p-2 border-b border-gray-100">
                                    <p class="text-gray-800">ä¸“å±æƒ…ä¾£å¤´åƒæ¡†</p>
                                    <button class="bg-love-purple/10 text-love-purple px-3 py-1 rounded-lg text-sm hover:bg-love-purple/20 transition-all btn-click">è¿ç»­æ‰“å¡7å¤©å¯é¢†å–</button>
                                </div>
                                <div class="flex justify-between items-center p-2">
                                    <p class="text-gray-800">ç§å¯†ç©ºé—´èƒŒæ™¯å›¾</p>
                                    <button class="bg-love-purple/10 text-love-purple px-3 py-1 rounded-lg text-sm hover:bg-love-purple/20 transition-all btn-click">å®Œæˆ5ä¸ªæ—¥å¸¸ä»»åŠ¡å¯é¢†å–</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ====================================== 11. ç³»ç»Ÿè®¾ç½®é¡µé¢ï¼ˆå…¨åŠŸèƒ½ä¿®æ”¹/å®‰å…¨/ä¸ªæ€§åŒ–ï¼‰ ====================================== -->
        <div id="user-setting-page" class="hidden-page min-h-screen bg-gray-50 content-padding">
            <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆå¸¦è¿”å›ï¼‰ -->
            <nav class="bg-gray-800 text-white py-3 px-4 lg:px-8 module-enter flex justify-between items-center sticky top-0 z-90 backdrop-filter: blur(4px)">
                <button id="setting-back-btn" class="hover:bg-gray-700 px-2 py-1 rounded transition-all text-sm lg:text-base btn-click">
                    <i class="fas fa-arrow-left mr-1"></i> è¿”å›
                </button>
                <h2 class="text-xl lg:text-2xl font-bold">ç³»ç»Ÿè®¾ç½®</h2>
                <div></div>
            </nav>

            <div class="container mx-auto px-4 py-6">
                <div class="max-w-lg mx-auto space-y-6 module-enter delay-100">
                    <!-- è´¦å·å®‰å…¨ -->
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-shield-halved text-love-red mr-2"></i> è´¦å·å®‰å…¨
                        </h4>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">ä¿®æ”¹å¯†ç </p>
                                <button class="text-love-blue hover:underline btn-click">
                                    <i class="fas fa-chevron-right text-xs"></i>
                                </button>
                            </div>
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">ç»‘å®šæ‰‹æœºå·</p>
                                <button class="text-love-blue hover:underline btn-click">
                                    <span class="text-xs text-red-500 mr-2">æœªç»‘å®š</span>
                                    <i class="fas fa-chevron-right text-xs"></i>
                                </button>
                            </div>
                            <div class="flex justify-between items-center p-3">
                                <p class="text-gray-800">ç™»å½•è®¾å¤‡ç®¡ç†</p>
                                <button class="text-love-blue hover:underline btn-click">
                                    <i class="fas fa-chevron-right text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- éšç§è®¾ç½® -->
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-lock text-love-purple mr-2"></i> éšç§è®¾ç½®
                        </h4>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">éšè—æƒ…ä¾£çŠ¶æ€</p>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer" id="setting-hide-couple">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-love-purple/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-love-purple"></div>
                                </label>
                            </div>
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">éšè—ç”Ÿæ´»ç…§</p>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer" id="setting-hide-photo">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-love-purple/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-love-purple"></div>
                                </label>
                            </div>
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">ä»…å¥½å‹å¯è®¿é—®ä¸»é¡µ</p>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer" id="setting-only-friend">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-love-purple/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-love-purple"></div>
                                </label>
                            </div>
                            <div class="flex justify-between items-center p-3">
                                <p class="text-gray-800">æ¸…é™¤è®¿å®¢è®°å½•</p>
                                <button class="text-love-red hover:underline btn-click">
                                    <i class="fas fa-trash mr-1"></i> æ¸…é™¤
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- é€šç”¨è®¾ç½® -->
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-cog text-gray-600 mr-2"></i> é€šç”¨è®¾ç½®
                        </h4>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">æ¶ˆæ¯é€šçŸ¥</p>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer" id="setting-notice" checked>
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-love-blue/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-love-blue"></div>
                                </label>
                            </div>
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">å£°éŸ³æé†’</p>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer" id="setting-sound" checked>
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-love-blue/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-love-blue"></div>
                                </label>
                            </div>
                            <div class="flex justify-between items-center p-3 border-b border-gray-100">
                                <p class="text-gray-800">å¤œé—´æ¨¡å¼</p>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer" id="setting-night">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-love-blue/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-love-blue"></div>
                                </label>
                            </div>
                            <div class="flex justify-between items-center p-3">
                                <p class="text-gray-800">æ¸…é™¤ç¼“å­˜</p>
                                <button class="text-love-blue hover:underline btn-click">
                                    <span class="text-xs text-gray-500 mr-2">2.5MB</span>
                                    <i class="fas fa-trash mr-1"></i> æ¸…é™¤
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- å…³äºæˆ‘ä»¬ -->
                    <div class="bg-white rounded-xl shadow-card p-4 lg:p-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-info-circle text-love-cyan mr-2"></i> å…³äºæˆ‘ä»¬
                        </h4>
                        <div class="space-y-3 text-sm text-gray-600">
                            <p>ç‰ˆæœ¬å·ï¼šV1.0.0</p>
                            <p>å¼€å‘è€…ï¼šæ„Ÿæ‚Ÿ</p>
                            <p>åˆ¶ä½œï¼šå¼ è¯ºç­–</p>
                            <p>æ›´æ–°æ—¶é—´ï¼š2026-01-28</p>
                            <p class="pt-3 border-t border-gray-100">æœ¬å¹³å°ä¸ºä¸“å±æ‹çˆ±ç¤¾äº¤å¹³å°ï¼Œæ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œä¿æŠ¤ä½ çš„éšç§å®‰å…¨ï½</p>
                        </div>
                        <button class="w-full mt-4 bg-love-cyan/10 text-love-cyan py-2 rounded-lg hover:bg-love-cyan/20 transition-all btn-click">
                            <i class="fas fa-star mr-1"></i> æ£€æŸ¥æ›´æ–°
                        </button>
                    </div>

                    <!-- é€€å‡ºç™»å½• -->
                    <button id="setting-logout-btn" class="w-full bg-red-100 text-red-600 py-3 rounded-xl hover:bg-red-200 transition-all font-medium btn-click">
                        <i class="fas fa-sign-out-alt mr-2"></i> é€€å‡ºå½“å‰è´¦å·
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ====================================== å…¨å±€JSï¼ˆå…¨åŠŸèƒ½é€»è¾‘ï¼Œæ•°æ®æŒä¹…åŒ–ï¼ŒæŒ‰é’®äº¤äº’ï¼‰ ====================================== -->
    <script>
        // å…¨å±€ç”¨æˆ·ä¿¡æ¯
        let currentUser = {
            username: '',
            realname: '',
            gender: '',
            code: '',
            password: '',
            isDev: false,
            avatar: 'https://picsum.photos/200/200?random=1',
            bg: 'https://picsum.photos/1200/400?random=10',
            signature: '',
            couple: null,
            intimacy: 0,
            sparkleDays: 0,
            photos: [],
            visitor: []
        };

        // é¡µé¢åˆ‡æ¢æ ¸å¿ƒå‡½æ•°
        function hideAllPages() {
            document.querySelectorAll('[id$="-page"]').forEach(page => {
                page.classList.add('hidden-page');
            });
        }

        function showPage(pageId) {
            hideAllPages();
            const page = document.getElementById(pageId);
            page.classList.remove('hidden-page');
            // é‡æ–°è§¦å‘åŠ¨ç”»
            page.querySelectorAll('.module-enter').forEach(module => {
                module.classList.remove('module-enter');
                setTimeout(() => {
                    module.classList.add('module-enter');
                }, 10);
            });
        }

        // è¡¨å•æç¤ºå‡½æ•°
        function showTip(tipId, content) {
            const tip = document.getElementById(tipId);
            tip.textContent = content;
            tip.classList.remove('hidden');
        }

        function hideTip(tipId) {
            document.getElementById(tipId)?.classList.add('hidden');
        }

        // åˆå§‹åŒ–é¡µé¢
        function initPage() {
            // æ³¨å†Œé¡µé¢ - ç”Ÿæˆ6ä½å‡­è¯
            document.getElementById('generate-code').addEventListener('click', () => {
                const code = Math.floor(100000 + Math.random() * 900000).toString();
                document.getElementById('register-code').value = code;
            });

            // æ³¨å†Œè¡¨å•æäº¤
            document.getElementById('register-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('register-username').value.trim();
                const realname = document.getElementById('register-realname').value.trim();
                const password = document.getElementById('register-password').value;
                const gender = document.querySelector('input[name="gender"]:checked')?.value;
                const code = document.getElementById('register-code').value;

                // æ ¡éªŒ
                let isValid = true;
                if (username.length < 2 || username.length > 10) {
                    showTip('register-username-tip', 'ç½‘åä¸èƒ½ä¸ºç©ºï¼ˆ2-10ä¸ªå­—ç¬¦ï¼‰');
                    isValid = false;
                } else {
                    hideTip('register-username-tip');
                }
                if (!realname) {
                    showTip('register-realname-tip', 'çœŸå®å§“åä¸èƒ½ä¸ºç©º');
                    isValid = false;
                } else {
                    hideTip('register-realname-tip');
                }
                if (password.length < 6 || password.length > 16) {
                    showTip('register-password-tip', 'å¯†ç é•¿åº¦éœ€åœ¨6-16ä½ä¹‹é—´');
                    isValid = false;
                } else {
                    hideTip('register-password-tip');
                }
                if (!code) {
                    alert('è¯·å…ˆç”Ÿæˆ6ä½éªŒè¯å‡­è¯');
                    isValid = false;
                }
                if (!gender) {
                    alert('è¯·é€‰æ‹©æ€§åˆ«');
                    isValid = false;
                }

                if (isValid) {
                    // ç»„è£…ç”¨æˆ·ä¿¡æ¯
                    const newUser = { ...currentUser, username, realname, gender, code, password };
                    // å­˜å‚¨å¾…å®¡æ ¸ç”¨æˆ·
                    let auditList = JSON.parse(localStorage.getItem('loveAuditList')) || [];
                    auditList.push(newUser);
                    localStorage.setItem('loveAuditList', JSON.stringify(auditList));
                    // å­˜å‚¨ç”¨æˆ·ä¸´æ—¶ä¿¡æ¯
                    localStorage.setItem('loveTempUser_' + username, JSON.stringify(newUser));
                    // é‡ç½®è¡¨å•å¹¶è·³è½¬
                    e.target.reset();
                    showPage('login-page');
                    alert('æ³¨å†Œç”³è¯·å·²æäº¤ï¼Œç­‰å¾…å¼€å‘è€…å®¡æ ¸ï½');
                }
            });

            // ç™»å½•è¡¨å•æäº¤
            document.getElementById('login-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('login-username').value.trim();
                const realname = document.getElementById('login-realname').value.trim();
                const password = document.getElementById('login-password').value;

                // å¼€å‘è€…è´¦å·
                if (username === 'ganwu521' && realname === 'ganwu521' && password === 'ganwu521') {
                    currentUser.isDev = true;
                    currentUser.username = 'ganwu521';
                    currentUser.realname = 'ganwu521';
                    showPage('dev-page');
                    e.target.reset();
                    initDevPage();
                    return;
                }

                // æ™®é€šç”¨æˆ·æ ¡éªŒ
                let isValid = true;
                if (!username) {
                    showTip('login-username-tip', 'è¯·å¡«å†™å·²æ³¨å†Œçš„ç½‘å');
                    isValid = false;
                } else {
                    hideTip('login-username-tip');
                }
                if (!realname) {
                    showTip('login-realname-tip', 'è¯·å¡«å†™æ³¨å†Œæ—¶çš„çœŸå®å§“å');
                    isValid = false;
                } else {
                    hideTip('login-realname-tip');
                }
                if (password.length < 6) {
                    showTip('login-password-tip', 'å¯†ç é•¿åº¦ä¸å°‘äº6ä½/å¯†ç é”™è¯¯');
                    isValid = false;
                } else {
                    hideTip('login-password-tip');
                }

                if (isValid) {
                    // ä»localStorageè·å–å·²å®¡æ ¸ç”¨æˆ·
                    const userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
                    const user = userList.find(u => u.username === username && u.realname === realname && u.password === password);
                    if (user) {
                        currentUser = { ...currentUser, ...user };
                        showPage('user-center-page');
                        e.target.reset();
                        initUserCenter();
                        initAllUserPage();
                    } else {
                        showTip('login-username-tip', 'è´¦å·æœªå®¡æ ¸/ä¿¡æ¯é”™è¯¯');
                    }
                }
            });

            // ç™»å½•/æ³¨å†Œè·³è½¬
            document.getElementById('to-register').addEventListener('click', () => showPage('register-page'));
            document.getElementById('to-login').addEventListener('click', () => showPage('login-page'));
        }

        // å¼€å‘è€…é¡µé¢åˆå§‹åŒ–
        function initDevPage() {
            // é¢æ¿åˆ‡æ¢
            const showDevPanel = (panelId) => {
                document.querySelectorAll('[id^="dev-"]-panel').forEach(panel => {
                    panel.classList.add('hidden');
                });
                document.getElementById(panelId).classList.remove('hidden');
                // ç§»åŠ¨ç«¯å¯¼èˆªæ ·å¼
                document.querySelectorAll('[id^="dev-"]-mobile').forEach(btn => {
                    btn.querySelector('i').parentNode.classList.remove('text-love-red');
                    btn.querySelector('i').parentNode.classList.add('text-gray-500');
                });
                document.getElementById(panelId.replace('dev-', 'dev-').replace('-panel', '-mobile')).querySelector('i').parentNode.classList.add('text-love-red');
                document.getElementById(panelId.replace('dev-', 'dev-').replace('-panel', '-mobile')).querySelector('i').parentNode.classList.remove('text-gray-500');
            };

            // é¡¶éƒ¨å¯¼èˆªåˆ‡æ¢
            document.getElementById('dev-audit-btn').addEventListener('click', () => showDevPanel('dev-audit-panel'));
            document.getElementById('dev-member-btn').addEventListener('click', () => showDevPanel('dev-member-panel'));
            document.getElementById('dev-file-btn').addEventListener('click', () => showDevPanel('dev-file-panel'));
            document.getElementById('dev-board-btn').addEventListener('click', () => showDevPanel('dev-board-panel'));
            document.getElementById('dev-logout-btn').addEventListener('click', () => {
                currentUser.isDev = false;
                showPage('login-page');
            });

            // ç§»åŠ¨ç«¯å¯¼èˆªåˆ‡æ¢
            document.getElementById('dev-audit-mobile').addEventListener('click', () => showDevPanel('dev-audit-panel'));
            document.getElementById('dev-member-mobile').addEventListener('click', () => showDevPanel('dev-member-panel'));
            document.getElementById('dev-file-mobile').addEventListener('click', () => showDevPanel('dev-file-panel'));
            document.getElementById('dev-board-mobile').addEventListener('click', () => showDevPanel('dev-board-panel'));
            document.getElementById('dev-logout-mobile').addEventListener('click', () => {
                currentUser.isDev = false;
                showPage('login-page');
            });

            // åˆ·æ–°å®¡æ ¸åˆ—è¡¨
            const refreshAuditList = () => {
                const auditList = JSON.parse(localStorage.getItem('loveAuditList')) || [];
                const auditListEl = document.getElementById('dev-audit-list');
                document.getElementById('dev-audit-count').textContent = auditList.length;

                if (auditList.length === 0) {
                    auditListEl.innerHTML = `
                        <div class="text-center text-gray-500 py-8">
                            <i class="fas fa-inbox text-3xl mb-2"></i>
                            <p>æš‚æ— å¾…å®¡æ ¸çš„æ³¨å†Œç”³è¯·</p>
                        </div>
                    `;
                    return;
                }                auditListEl.innerHTML = '';
                auditList.forEach((user, index) => {
                    const item = document.createElement('div');
                    item.className = 'p-3 border border-gray-100 rounded-lg flex flex-col gap-2';
                    item.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="font-bold text-gray-800">ç½‘åï¼š${user.username}</p>
                                <p class="text-sm text-gray-600">çœŸå®å§“åï¼š${user.realname}</p>
                                <p class="text-sm text-gray-600">æ€§åˆ«ï¼š${user.gender === 'male' ? 'ç”·' : user.gender === 'female' ? 'å¥³' : 'å…¶ä»–'}</p>
                                <p class="text-sm text-love-purple">å‡­è¯ï¼š${user.code}</p>
                            </div>
                            <div class="flex gap-2">
                                <button class="bg-green-100 text-green-600 px-3 py-1 rounded text-sm hover:bg-green-200 transition-all btn-click" data-index="${index}">é€šè¿‡</button>
                                <button class="bg-red-100 text-red-600 px-3 py-1 rounded text-sm hover:bg-red-200 transition-all btn-click" data-index="${index}">æ‹’ç»</button>
                            </div>
                        </div>
                    `;
                    auditListEl.appendChild(item);
                });

                // å®¡æ ¸æŒ‰é’®äº‹ä»¶
                document.querySelectorAll('#dev-audit-list .bg-green-100').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const index = e.target.dataset.index;
                        const auditList = JSON.parse(localStorage.getItem('loveAuditList')) || [];
                        const passUser = auditList[index];
                        // åŠ å…¥å·²å®¡æ ¸ç”¨æˆ·åˆ—è¡¨
                        let userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
                        userList.push(passUser);
                        localStorage.setItem('loveUserList', JSON.stringify(userList));
                        // ç§»é™¤å¾…å®¡æ ¸åˆ—è¡¨
                        auditList.splice(index, 1);
                        localStorage.setItem('loveAuditList', JSON.stringify(auditList));
                        // åˆ·æ–°åˆ—è¡¨
                        refreshAuditList();
                        alert('å®¡æ ¸é€šè¿‡ï¼Œç”¨æˆ·å¯æ­£å¸¸ç™»å½•');
                    });
                });

                document.querySelectorAll('#dev-audit-list .bg-red-100').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const index = e.target.dataset.index;
                        const auditList = JSON.parse(localStorage.getItem('loveAuditList')) || [];
                        auditList.splice(index, 1);
                        localStorage.setItem('loveAuditList', JSON.stringify(auditList));
                        refreshAuditList();
                        alert('å·²æ‹’ç»è¯¥æ³¨å†Œç”³è¯·');
                    });
                });
            };

            // åˆå§‹åŒ–å®¡æ ¸åˆ—è¡¨
            refreshAuditList();
            document.getElementById('dev-refresh-audit').addEventListener('click', refreshAuditList);

            // æˆå‘˜ç®¡ç†åˆ—è¡¨
            const refreshMemberList = (searchVal = '') => {
                let userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
                // æœç´¢è¿‡æ»¤
                if (searchVal) {
                    userList = userList.filter(user => 
                        user.username.includes(searchVal) || user.realname.includes(searchVal)
                    );
                }
                const memberListEl = document.getElementById('dev-member-list');
                document.getElementById('dev-member-count').textContent = userList.length;

                if (userList.length === 0) {
                    memberListEl.innerHTML = `
                        <div class="text-center text-gray-500 py-8">
                            <i class="fas fa-user-friends text-3xl mb-2"></i>
                            <p>æš‚æ— æ³¨å†Œæˆå‘˜</p>
                        </div>
                    `;
                    return;
                }

                memberListEl.innerHTML = '';
                userList.forEach(user => {
                    const item = document.createElement('div');
                    item.className = 'p-3 border border-gray-100 rounded-lg flex justify-between items-center';
                    item.innerHTML = `
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 avatar-crop">
                                <img src="${user.avatar || 'https://picsum.photos/200/200?random=1'}" alt="å¤´åƒ" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <p class="font-bold text-gray-800">${user.username}</p>
                                <p class="text-sm text-gray-600">${user.realname} | ${user.gender === 'male' ? 'ç”·' : user.gender === 'female' ? 'å¥³' : 'å…¶ä»–'}</p>
                            </div>
                        </div>
                        <button class="bg-red-100 text-red-600 px-3 py-1 rounded text-sm hover:bg-red-200 transition-all btn-click" data-username="${user.username}">åˆ é™¤</button>
                    `;
                    memberListEl.appendChild(item);
                });

                // åˆ é™¤æˆå‘˜äº‹ä»¶
                document.querySelectorAll('#dev-member-list .bg-red-100').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const username = e.target.dataset.username;
                        if (confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ·ã€${username}ã€‘å—ï¼Ÿ`)) {
                            let userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
                            userList = userList.filter(user => user.username !== username);
                            localStorage.setItem('loveUserList', JSON.stringify(userList));
                            refreshMemberList(document.getElementById('dev-member-search').value);
                        }
                    });
                });
            };

            // æˆå‘˜æœç´¢
            document.getElementById('dev-member-search').addEventListener('input', (e) => {
                refreshMemberList(e.target.value.trim());
            });
            refreshMemberList();

            // æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
            const fileUploadArea = document.getElementById('dev-file-upload-area');
            const fileInput = document.getElementById('dev-file-input');
            const fileListEl = document.getElementById('dev-file-list');

            // ç‚¹å‡»/æ‹–æ‹½ä¸Šä¼ 
            fileUploadArea.addEventListener('click', () => fileInput.click());
            fileUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                fileUploadArea.style.borderColor = '#a855f7';
                fileUploadArea.style.backgroundColor = 'rgba(168, 85, 247, 0.05)';
            });
            fileUploadArea.addEventListener('dragleave', () => {
                fileUploadArea.style.borderColor = '';
                fileUploadArea.style.backgroundColor = '';
            });
            fileUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                fileUploadArea.style.borderColor = '';
                fileUploadArea.style.backgroundColor = '';
                if (e.dataTransfer.files.length) {
                    handleFiles(e.dataTransfer.files);
                }
            });
            fileInput.addEventListener('change', () => {
                if (fileInput.files.length) {
                    handleFiles(fileInput.files);
                }
            });

            // å¤„ç†ä¸Šä¼ æ–‡ä»¶
            function handleFiles(files) {
                let uploadFiles = JSON.parse(localStorage.getItem('loveDevFiles')) || [];
                Array.from(files).forEach(file => {
                    // ç®€å•æ ¼å¼æ ¡éªŒ
                    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'video/mp4'];
                    if (!allowedTypes.includes(file.type)) {
                        alert(`æ–‡ä»¶ã€${file.name}ã€‘æ ¼å¼ä¸æ”¯æŒï¼Œä»…å…è®¸JPG/PNG/GIF/MP4`);
                        return;
                    }
                    if (file.size > 50 * 1024 * 1024) {
                        alert(`æ–‡ä»¶ã€${file.name}ã€‘è¶…è¿‡50MBé™åˆ¶ï¼Œæ— æ³•ä¸Šä¼ `);
                        return;
                    }
                    // ç”Ÿæˆä¸´æ—¶URLï¼ˆå®é™…é¡¹ç›®éœ€åç«¯å­˜å‚¨ï¼Œæ­¤å¤„æœ¬åœ°æ¨¡æ‹Ÿï¼‰
                    const fileUrl = URL.createObjectURL(file);
                    const fileInfo = {
                        id: Date.now(),
                        name: file.name,
                        size: (file.size / 1024 / 1024).toFixed(2) + 'MB',
                        type: file.type.split('/')[0],
                        url: fileUrl,
                        time: new Date().toLocaleString()
                    };
                    uploadFiles.unshift(fileInfo);
                });
                localStorage.setItem('loveDevFiles', JSON.stringify(uploadFiles));
                refreshFileList();
            }

            // åˆ·æ–°æ–‡ä»¶åˆ—è¡¨
            function refreshFileList() {
                const uploadFiles = JSON.parse(localStorage.getItem('loveDevFiles')) || [];
                if (uploadFiles.length === 0) {
                    fileListEl.innerHTML = `
                        <div class="text-center text-gray-500 py-6">
                            <i class="fas fa-file text-3xl mb-2"></i>
                            <p>æš‚æ— ä¸Šä¼ æ–‡ä»¶</p>
                        </div>
                    `;
                    return;
                }

                fileListEl.innerHTML = '';
                uploadFiles.forEach(file => {
                    const item = document.createElement('div');
                    item.className = 'p-3 border border-gray-100 rounded-lg flex justify-between items-center';
                    item.innerHTML = `
                        <div class="flex items-center gap-3">
                            <i class="fas fa-${file.type === 'image' ? 'image' : 'video'} text-love-purple text-xl"></i>
                            <div>
                                <p class="font-medium text-gray-800 truncate max-w-[200px]">${file.name}</p>
                                <p class="text-xs text-gray-500">${file.size} Â· ${file.time}</p>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <a href="${file.url}" target="_blank" class="text-love-blue hover:underline text-sm">é¢„è§ˆ</a>
                            <button class="text-red-500 hover:underline text-sm btn-click" data-id="${file.id}">åˆ é™¤</button>
                        </div>
                    `;
                    fileListEl.appendChild(item);
                });

                // åˆ é™¤æ–‡ä»¶äº‹ä»¶
                document.querySelectorAll('#dev-file-list .text-red-500').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const fileId = parseInt(e.target.dataset.id);
                        let uploadFiles = JSON.parse(localStorage.getItem('loveDevFiles')) || [];
                        uploadFiles = uploadFiles.filter(file => file.id !== fileId);
                        localStorage.setItem('loveDevFiles', JSON.stringify(uploadFiles));
                        refreshFileList();
                    });
                });
            }
            refreshFileList();

            // ç•™è¨€ç®¡ç†åŠŸèƒ½
            const refreshBoardList = () => {
                let boardList = JSON.parse(localStorage.getItem('loveBoardList')) || [];
                const boardListEl = document.getElementById('dev-board-list');

                if (boardList.length === 0) {
                    boardListEl.innerHTML = `
                        <div class="text-center text-gray-500 py-8">
                            <i class="fas fa-comments text-3xl mb-2"></i>
                            <p>å…¨ç«™æš‚æ— ç•™è¨€</p>
                        </div>
                    `;
                    return;
                }

                boardListEl.innerHTML = '';
                boardList.forEach((msg, index) => {
                    const item = document.createElement('div');
                    item.className = 'p-3 border border-gray-100 rounded-lg mb-3';
                    item.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <p class="font-bold text-gray-800">${msg.username}</p>
                            <p class="text-xs text-gray-500">${msg.time}</p>
                        </div>
                        <p class="text-gray-700 mb-2">${msg.content}</p>
                        <button class="text-red-500 hover:underline text-sm btn-click" data-index="${index}">åˆ é™¤</button>
                    `;
                    boardListEl.appendChild(item);
                });

                // åˆ é™¤ç•™è¨€äº‹ä»¶
                document.querySelectorAll('#dev-board-list .text-red-500').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const index = e.target.dataset.index;
                        let boardList = JSON.parse(localStorage.getItem('loveBoardList')) || [];
                        boardList.splice(index, 1);
                        localStorage.setItem('loveBoardList', JSON.stringify(boardList));
                        refreshBoardList();
                    });
                });
            };

            // å‘å¸ƒå®˜æ–¹ç•™è¨€
            document.getElementById('dev-board-publish').addEventListener('click', () => {
                const content = document.getElementById('dev-board-content').value.trim();
                if (!content) {
                    alert('è¯·è¾“å…¥ç•™è¨€å†…å®¹');
                    return;
                }
                let boardList = JSON.parse(localStorage.getItem('loveBoardList')) || [];
                boardList.unshift({
                    username: 'å®˜æ–¹å…¬å‘Š',
                    content,
                    time: new Date().toLocaleString()
                });
                localStorage.setItem('loveBoardList', JSON.stringify(boardList));
                document.getElementById('dev-board-content').value = '';
                refreshBoardList();
            });

            // æ¸…ç©ºå…¨ç«™ç•™è¨€
            document.getElementById('dev-board-clear').addEventListener('click', () => {
                if (confirm('ç¡®å®šè¦æ¸…ç©ºå…¨ç«™ç•™è¨€å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤')) {
                    localStorage.removeItem('loveBoardList');
                    refreshBoardList();
                }
            });

            refreshBoardList();
        }

        // ç”¨æˆ·ä¸­å¿ƒåˆå§‹åŒ–
        function initUserCenter() {
            // æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯
            document.getElementById('user-username').textContent = currentUser.username;
            document.getElementById('user-realname').textContent = `çœŸå®å§“åï¼š${currentUser.realname}ï¼ˆæ°¸ä¹…ä¸å¯ä¿®æ”¹ï¼‰`;
            document.getElementById('user-gender').textContent = currentUser.gender === 'male' ? 'ç”·' : currentUser.gender === 'female' ? 'å¥³' : 'å…¶ä»–';
            document.getElementById('user-code').textContent = currentUser.code;
            document.getElementById('user-avatar').src = currentUser.avatar;
            document.getElementById('user-intimacy').textContent = currentUser.intimacy || 0;

            // æƒ…ä¾£çŠ¶æ€æ¸²æŸ“
            if (currentUser.couple) {
                document.getElementById('user-couple-status').textContent = `å·²é…å¯¹ï¼š${currentUser.couple.username}`;
                document.getElementById('user-intimacy-tip').textContent = `ä¸${currentUser.couple.username}çš„äº²å¯†å€¼`;
            } else {
                document.getElementById('user-couple-status').textContent = 'æœªé…å¯¹';
                document.getElementById('user-intimacy-tip').textContent = 'é…å¯¹æƒ…ä¾£åå¯ç§¯ç´¯äº²å¯†å€¼';
            }

            // æ¸²æŸ“ç”Ÿæ´»ç…§
            const photoListEl = document.getElementById('user-photo-list');
            photoListEl.innerHTML = `
                <div class="h-20 rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all" id="user-photo-add">
                    <div class="w-full h-full bg-gray-100 flex items-center justify-center text-gray-400">
                        <i class="fas fa-plus text-xl"></i>
                    </div>
                </div>
            `;
            currentUser.photos = currentUser.photos || [];
            currentUser.photos.slice(0, 3).forEach(photo => {
                const photoItem = document.createElement('div');
                photoItem.className = 'h-20 rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all';
                photoItem.innerHTML = `<img src="${photo}" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">`;
                photoListEl.appendChild(photoItem);
            });

            // ç”Ÿæ´»ç…§ä¸Šä¼ 
            const photoInput = document.getElementById('user-photo-input');
            document.getElementById('user-photo-add').addEventListener('click', () => photoInput.click());
            document.getElementById('user-photo-more').addEventListener('click', () => photoInput.click());
            photoInput.addEventListener('change', (e) => {
                if (e.target.files.length) {
                    Array.from(e.target.files).forEach(file => {
                        if (file.type.startsWith('image/')) {
                            const photoUrl = URL.createObjectURL(file);
                            currentUser.photos.push(photoUrl);
                        }
                    });
                    // ä¿å­˜å¹¶åˆ·æ–°
                    saveUserInfo();
                    initUserCenter();
                }
            });

            // å¯¼èˆªè·³è½¬
            document.getElementById('user-find-btn').addEventListener('click', () => showPage('user-find-page'));
            document.getElementById('user-edit-btn').addEventListener('click', () => showPage('user-edit-page'));
            document.getElementById('user-private-btn').addEventListener('click', () => {
                if (currentUser.couple) {
                    showPage('user-private-page');
                } else {
                    alert('è¯·å…ˆé…å¯¹æƒ…ä¾£ï¼Œå¼€å¯ä¸“å±ç§å¯†ç©ºé—´');
                }
            });
            document.getElementById('user-setting-btn').addEventListener('click', () => showPage('user-setting-page'));
            document.getElementById('user-logout-btn').addEventListener('click', () => {
                currentUser = {};
                showPage('login-page');
            });

            // å¡ç‰‡è·³è½¬
            document.getElementById('user-find-card').addEventListener('click', () => showPage('user-find-page'));
            document.getElementById('user-home-card').addEventListener('click', () => showPage('user-home-page'));
            document.getElementById('user-private-card').addEventListener('click', () => {
                if (currentUser.couple) {
                    showPage('user-private-page');
                } else {
                    alert('è¯·å…ˆé…å¯¹æƒ…ä¾£ï¼Œå¼€å¯ä¸“å±ç§å¯†ç©ºé—´');
                }
            });
            document.getElementById('user-dynamic-card').addEventListener('click', () => showPage('user-dynamic-page'));
            document.getElementById('user-task-card').addEventListener('click', () => {
                if (currentUser.couple) {
                    showPage('user-task-page');
                } else {
                    alert('è¯·å…ˆé…å¯¹æƒ…ä¾£ï¼Œå‚ä¸æƒ…ä¾£ä»»åŠ¡');
                }
            });
            document.getElementById('user-setting-card').addEventListener('click', () => showPage('user-setting-page'));

            // ç§»åŠ¨ç«¯å¯¼èˆª
            document.getElementById('user-home-mobile').addEventListener('click', () => showPage('user-center-page'));
            document.getElementById('user-find-mobile').addEventListener('click', () => showPage('user-find-page'));
            document.getElementById('user-private-mobile').addEventListener('click', () => {
                if (currentUser.couple) {
                    showPage('user-private-page');
                } else {
                    alert('è¯·å…ˆé…å¯¹æƒ…ä¾£ï¼Œå¼€å¯ä¸“å±ç§å¯†ç©ºé—´');
                }
            });
            document.getElementById('user-setting-mobile').addEventListener('click', () => showPage('user-setting-page'));
        }

        // æ‰€æœ‰ç”¨æˆ·é¡µé¢åˆå§‹åŒ–
        function initAllUserPage() {
            // ç¼–è¾‘ä¸»é¡µé¡µé¢
            initEditPage();
            // å¯»å‹é…å¯¹é¡µé¢
            initFindPage();
            // ç§å¯†ç©ºé—´é¡µé¢
            initPrivatePage();
            // ä¸ªäººä¸»é¡µé¡µé¢
            initHomePage();
            // åŠ¨æ€å¹¿åœºé¡µé¢
            initDynamicPage();
            // æƒ…ä¾£ä»»åŠ¡é¡µé¢
            initTaskPage();
            // ç³»ç»Ÿè®¾ç½®é¡µé¢
            initSettingPage();
        }

        // ç¼–è¾‘ä¸»é¡µåˆå§‹åŒ–
        function initEditPage() {
            // å¡«å……å½“å‰ä¿¡æ¯
            document.getElementById('edit-avatar').src = currentUser.avatar;
            document.getElementById('edit-username').value = currentUser.username;
            document.getElementById('edit-bg').src = currentUser.bg || 'https://picsum.photos/1200/400?random=10';
            document.getElementById('edit-signature').value = currentUser.signature || '';
            document.getElementById('edit-signature-count').textContent = (currentUser.signature || '').length;

            // å¤´åƒæ›´æ¢
            const avatarInput = document.getElementById('edit-avatar-input');
            document.getElementById('edit-avatar-btn').addEventListener('click', () => avatarInput.click());
            document.getElementById('edit-avatar-box').addEventListener('click', () => avatarInput.click());
            avatarInput.addEventListener('change', (e) => {
                if (e.target.files[0]) {
                    currentUser.avatar = URL.createObjectURL(e.target.files[0]);
                    document.getElementById('edit-avatar').src = currentUser.avatar;
                }
            });

            // èƒŒæ™¯å›¾æ›´æ¢
            const bgInput = document.getElementById('edit-bg-input');
            document.getElementById('edit-bg-btn').addEventListener('click', () => bgInput.click());
            document.getElementById('edit-bg-box').addEventListener('click', () => bgInput.click());
            bgInput.addEventListener('change', (e) => {
                if (e.target.files[0]) {
                    currentUser.bg = URL.createObjectURL(e.target.files[0]);
                    document.getElementById('edit-bg').src = currentUser.bg;
                }
            });

            // ä¸ªæ€§ç­¾åè®¡æ•°
            document.getElementById('edit-signature').addEventListener('input', (e) => {
                const len = e.target.value.length;
                document.getElementById('edit-signature-count').textContent = len;
                if (len > 20) {
                    e.target.value = e.target.value.slice(0, 20);
                    document.getElementById('edit-signature-count').textContent = 20;
                }
            });

            // ä¿å­˜ä¿®æ”¹
            document.getElementById('edit-save-btn').addEventListener('click', () => {
                const username = document.getElementById('edit-username').value.trim();
                const signature = document.getElementById('edit-signature').value.trim();

                if (username.length < 2 || username.length > 10) {
                    showTip('edit-username-tip', 'ç½‘åé•¿åº¦éœ€åœ¨2-10ä¸ªå­—ç¬¦ä¹‹é—´');
                    return;
                }
                hideTip('edit-username-tip');

                currentUser.username = username;
                currentUser.signature = signature;
                saveUserInfo();
                initUserCenter();
                showPage('user-center-page');
                alert('ä¿®æ”¹å·²ä¿å­˜');
            });

            // è¿”å›
            document.getElementById('edit-back-btn').addEventListener('click', () => showPage('user-center-page'));
        }

        // å¯»å‹é…å¯¹åˆå§‹åŒ–
        function initFindPage() {
            // æœç´¢è¡¨å•æäº¤
            document.getElementById('find-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('find-username').value.trim();
                const userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
                const ta = userList.find(u => u.username === username && u.username !== currentUser.username);

                const noResult = document.getElementById('find-no-result');
                const haveResult = document.getElementById('find-have-result');

                if (!ta) {
                    noResult.classList.remove('hidden');
                    haveResult.classList.add('hidden');
                    return;
                }

                noResult.classList.add('hidden');
                haveResult.classList.remove('hidden');

                // æ¸²æŸ“TAçš„ä¿¡æ¯
                document.getElementById('ta-avatar').src = ta.avatar;
                document.getElementById('ta-username').textContent = ta.username;
                document.getElementById('ta-gender').textContent = `æ€§åˆ«ï¼š${ta.gender === 'male' ? 'ç”·' : ta.gender === 'female' ? 'å¥³' : 'å…¶ä»–'}`;
                document.getElementById('ta-couple-status').textContent = ta.couple ? 'æƒ…ä¾£çŠ¶æ€ï¼šå·²é…å¯¹' : 'æƒ…ä¾£çŠ¶æ€ï¼šæœªé…å¯¹';

                // æ¸²æŸ“TAçš„ç”Ÿæ´»ç…§
                const taPhotoList = document.getElementById('ta-photo-list');
                taPhotoList.innerHTML = '';
                ta.photos = ta.photos || [];
                ta.photos.slice(0, 2).forEach(photo => {
                    const photoItem = document.createElement('div');
                    photoItem.className = 'h-24 rounded-lg overflow-hidden';
                    photoItem.innerHTML = `<img src="${photo}" alt="TAçš„ç”Ÿæ´»ç…§" class="w-full h-full object-cover">`;
                    taPhotoList.appendChild(photoItem);
                });

                // è¡¨ç™½æŒ‰é’®äº‹ä»¶
                document.getElementById('send-confess-btn').addEventListener('click', () => {
                    if (currentUser.couple) {
                        alert('ä½ å·²é…å¯¹æƒ…ä¾£ï¼Œä¸å¯å†æ¬¡è¡¨ç™½');
                        return;
                    }
                    if (ta.couple) {
                        alert('å¯¹æ–¹å·²é…å¯¹æƒ…ä¾£ï¼Œæ— æ³•å‘é€è¡¨ç™½ç”³è¯·');
                        return;
                    }
                    if (confirm(`ç¡®å®šè¦å‘ã€${ta.username}ã€‘å‘é€è¡¨ç™½ç”³è¯·å—ï¼Ÿ`)) {
                        // å­˜å‚¨è¡¨ç™½ä¿¡æ¯ï¼ˆå®é™…é¡¹ç›®å¯åŠ æ¶ˆæ¯é€šçŸ¥ï¼‰
                        ta.confess = ta.confess || [];
                        ta.confess.push({
                            from: currentUser.username,
                            time: new Date().toLocaleString()
                        });
                        // ä¿å­˜å¯¹æ–¹ä¿¡æ¯
                        saveUserByUsername(ta);
                        alert('è¡¨ç™½ç”³è¯·å·²å‘é€ï¼Œç­‰å¾…å¯¹æ–¹å›åº”');
                    }
                });
            });

            // è¿”å›
            document.getElementById('find-back-btn').addEventListener('click', () => showPage('user-center-page'));
        }

        // ç§å¯†ç©ºé—´åˆå§‹åŒ–
        function initPrivatePage() {
            if (!currentUser.couple) return;

            // æ¸²æŸ“æƒ…ä¾£ä¿¡æ¯
            document.getElementById('private-my-avatar').src = currentUser.avatar;
            document.getElementById('private-ta-avatar').src = currentUser.couple.avatar;
            document.getElementById('private-my-name').textContent = currentUser.username;
            document.getElementById('private-ta-name').textContent = currentUser.couple.username;
            document.getElementById('private-sparkle-days').textContent = currentUser.sparkleDays || 0;
            document.getElementById('private-intimacy').textContent = currentUser.intimacy || 0;

            // ç»­ç«èŠ±
            document.getElementById('private-renew-sparkle').addEventListener('click', () => {
                const today = new Date().toLocaleDateString();
                const lastSparkle = currentUser.lastSparkle;
                if (lastSparkle === today) {
                    alert('ä»Šæ—¥å·²ç»­ç«èŠ±ï¼Œæ˜å¤©å†æ¥å§ï½');
                    return;
                }
                currentUser.sparkleDays = (currentUser.sparkleDays || 0) + 1;
                currentUser.intimacy = (currentUser.intimacy || 0) + 5;
                currentUser.lastSparkle = today;
                // åŒæ­¥æƒ…ä¾£ä¿¡æ¯
                const couple = JSON.parse(localStorage.getItem('loveUserList')).find(u => u.username === currentUser.couple.username);
                couple.sparkleDays = currentUser.sparkleDays;
                couple.intimacy = currentUser.intimacy;
                couple.lastSparkle = today;
                saveUserInfo();
                saveUserByUsername(couple);
                // åˆ·æ–°é¡µé¢
                document.getElementById('private-sparkle-days').textContent = currentUser.sparkleDays;
                document.getElementById('private-intimacy').textContent = currentUser.intimacy;
                alert(`ç»­ç«èŠ±æˆåŠŸï¼ç«èŠ±å¤©æ•°+1ï¼Œäº²å¯†å€¼+5`);
            });

            // å‘é€æƒ…ä¾£ç•™è¨€
            document.getElementById('private-msg-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const content = document.getElementById('private-msg-input').value.trim();
                if (!content) return;

                // å­˜å‚¨ç•™è¨€ï¼ˆå®é™…é¡¹ç›®å¯åŒæ­¥ç»™æƒ…ä¾£ï¼‰
                currentUser.privateMsg = currentUser.privateMsg || [];
                currentUser.privateMsg.push({
                    from: 'me',
                    content,
                    time: 'åˆšåˆš'
                });
                saveUserInfo();

                // æ¸²æŸ“ç•™è¨€
                const msgList = document.getElementById('private-msg-list');
                const msgItem = document.createElement('div');
                msgItem.className = 'flex flex-col items-end mt-2';
                msgItem.innerHTML = `
                    <p class="text-xs text-gray-500 mb-1">æˆ‘ Â· åˆšåˆš</p>
                    <p class="bg-love-pink/10 text-love-pink px-4 py-2 rounded-lg rounded-tr-none max-w-[80%]">${content}</p>
                `;
                msgList.appendChild(msgItem);
                msgList.scrollTop = msgList.scrollHeight;
                document.getElementById('private-msg-input').value = '';
            });

            // å®Œæˆæƒ…ä¾£ä»»åŠ¡
            document.querySelectorAll('#private-task-list button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const text = e.target.textContent;
                    const addIntimacy = parseInt(text.match(/\+(\d+)/)[1]);
                    currentUser.intimacy = (currentUser.intimacy || 0) + addIntimacy;
                    // åŒæ­¥æƒ…ä¾£äº²å¯†å€¼
                    const couple = JSON.parse(localStorage.getItem('loveUserList')).find(u => u.username === currentUser.couple.username);
                    couple.intimacy = currentUser.intimacy;
                    saveUserInfo();
                    saveUserByUsername(couple);
                    // åˆ·æ–°æ˜¾ç¤º
                    document.getElementById('private-intimacy').textContent = currentUser.intimacy;
                    e.target.textContent = 'å·²å®Œæˆ';
                    e.target.classList.remove('bg-love-yellow/10', 'text-love-yellow');
                    e.target.classList.add('bg-green-100', 'text-green-600');
                    e.target.disabled = true;
                    alert(`ä»»åŠ¡å®Œæˆï¼äº²å¯†å€¼+${addIntimacy}`);
                });
            });

            // è¿”å›
            document.getElementById('private-back-btn').addEventListener('click', () => showPage('user-center-page'));
        }

        // ä¸ªäººä¸»é¡µåˆå§‹åŒ–
        function initHomePage() {
            // æ¸²æŸ“ä¸»é¡µä¿¡æ¯
            document.getElementById('home-avatar').src = currentUser.avatar;
            document.getElementById('home-bg').src = currentUser.bg || 'https://picsum.photos/1200/400?random=10';
            document.getElementById('home-username').textContent = currentUser.username;
            document.getElementById('home-signature').textContent = currentUser.signature || 'æš‚æ— ä¸ªæ€§ç­¾å';
            document.getElementById('home-gender').textContent = currentUser.gender === 'male' ? 'ç”·' : currentUser.gender === 'female' ? 'å¥³' : 'å…¶ä»–';
            document.getElementById('home-couple').textContent = currentUser.couple ? 'å·²é…å¯¹' : 'æœªé…å¯¹';

            // æ¸²æŸ“ç”Ÿæ´»ç…§
            const homePhotoList = document.getElementById('home-photo-list');
            homePhotoList.innerHTML = '';
            currentUser.photos = currentUser.photos || [];
            currentUser.photos.slice(0, 6).forEach(photo => {
                const photoItem = document.createElement('div');
                photoItem.className = 'aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-all';
                photoItem.innerHTML = `<img src="${photo}" alt="ç”Ÿæ´»ç…§" class="w-full h-full object-cover">`;
                homePhotoList.appendChild(photoItem);
            });

            // è¿”å›
            document.getElementById('home-back-btn').addEventListener('click', () => showPage('user-center-page'));
            // åˆ†äº«
            document.getElementById('home-share-btn').addEventListener('click', () => {
                alert('åˆ†äº«åŠŸèƒ½å·²è§¦å‘ï¼Œå®é™…é¡¹ç›®å¯å¯¹æ¥åˆ†äº«API');
            });
        }

        // åŠ¨æ€å¹¿åœºåˆå§‹åŒ–
        function initDynamicPage() {
            // å‘å¸ƒåŠ¨æ€
            document.getElementById('dynamic-publish-btn').addEventListener('click', () => {
                alert('å‘å¸ƒåŠ¨æ€åŠŸèƒ½å·²è§¦å‘ï¼Œå¯åœ¨æ­¤å¤„æ·»åŠ å›¾ç‰‡ä¸Šä¼ +æ–‡å­—ç¼–è¾‘é€»è¾‘');
            });

            // åŠ¨æ€äº’åŠ¨ï¼ˆç‚¹èµ/è¯„è®º/åˆ†äº«ï¼‰
            document.querySelectorAll('#dynamic-list button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const icon = e.target.querySelector('i');
                    if (icon.classList.contains('fa-heart')) {
                        btn.classList.toggle('text-love-pink');
                        btn.classList.toggle('text-gray-500');
                    } else if (icon.classList.contains('fa-comment')) {
                        btn.classList.toggle('text-love-blue');
                        btn.classList.toggle('text-gray-500');
                    } else if (icon.classList.contains('fa-share-alt')) {
                        btn.classList.toggle('text-love-cyan');
                        btn.classList.toggle('text-gray-500');
                    }
                });
            });

            // è¿”å›
            document.getElementById('dynamic-back-btn').addEventListener('click', () => showPage('user-center-page'));
        }

        // æƒ…ä¾£ä»»åŠ¡åˆå§‹åŒ–
        function initTaskPage() {
            if (!currentUser.couple) return;

            // æ¸²æŸ“ä»»åŠ¡æ•°æ®
            document.getElementById('task-today-complete').textContent = `${currentUser.completedTasks || 0}/5`;
            document.getElementById('task-total-intimacy').textContent = currentUser.intimacy || 0;
            document.getElementById('task-continue-days').textContent = currentUser.sparkleDays || 0;

            // å®Œæˆæ—¥å¸¸ä»»åŠ¡
            document.querySelectorAll('#task-daily-list button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const addIntimacy = parseInt(e.target.textContent.match(/\+(\d+)/)[1]);
                    currentUser.intimacy = (currentUser.intimacy || 0) + addIntimacy;
                    currentUser.completedTasks = (currentUser.completedTasks || 0) + 1;
                    // åŒæ­¥æƒ…ä¾£æ•°æ®
                    const couple = JSON.parse(localStorage.getItem('loveUserList')).find(u => u.username === currentUser.couple.username);
                    couple.intimacy = currentUser.intimacy;
                    saveUserInfo();
                    saveUserByUsername(couple);
                    // åˆ·æ–°æ˜¾ç¤º
                    document.getElementById('task-today-complete').textContent = `${currentUser.completedTasks}/5`;
                    document.getElementById('task-total-intimacy').textContent = currentUser.intimacy;
                    e.target.textContent = 'å·²å®Œæˆ';
                    e.target.classList.remove('bg-love-yellow', 'text-white');
                    e.target.classList.add('bg-green-100', 'text-green-600');
                    e.target.disabled = true;
                    alert(`ä»»åŠ¡å®Œæˆï¼äº²å¯†å€¼+${addIntimacy}`);
                });
            });

            // å®Œæˆæ¯å‘¨ä»»åŠ¡
            document.querySelectorAll('#task-weekly-list button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const text = e.target.textContent;
                    const addIntimacy = parseInt(text.match(/\+(\d+)/)[1]);
                    const taskName = e.target.closest('div').querySelector('p').textContent;
                    
                    // ç®€å•ä»»åŠ¡è¿›åº¦æ ¡éªŒ
                    if (taskName.includes('è¿ç»­7å¤©ç»­ç«èŠ±') && (currentUser.sparkleDays || 0) < 7) {
                        alert('æœªè¾¾æˆä»»åŠ¡æ¡ä»¶ï¼ˆéœ€è¿ç»­7å¤©ç»­ç«èŠ±ï¼‰');
                        return;
                    }
                    if (taskName.includes('ç´¯è®¡äº²å¯†å€¼è¾¾åˆ°520') && (currentUser.intimacy || 0) < 520) {
                        alert('æœªè¾¾æˆä»»åŠ¡æ¡ä»¶ï¼ˆéœ€ç´¯è®¡äº²å¯†å€¼520ï¼‰');
                        return;
                    }

                    currentUser.intimacy = (currentUser.intimacy || 0) + addIntimacy;
                    const couple = JSON.parse(localStorage.getItem('loveUserList')).find(u => u.username === currentUser.couple.username);
                    couple.intimacy = currentUser.intimacy;
                    saveUserInfo();
                    saveUserByUsername(couple);
                    // åˆ·æ–°æ˜¾ç¤º
                    document.getElementById('task-total-intimacy').textContent = currentUser.intimacy;
                    e.target.textContent = 'å·²å®Œæˆ';
                    e.target.classList.remove('bg-love-red', 'text-white');
                    e.target.classList.add('bg-green-100', 'text-green-600');
                    e.target.disabled = true;
                    alert(`æŒ‘æˆ˜å®Œæˆï¼äº²å¯†å€¼+${addIntimacy}`);
                });
            });

            // é¢†å–å¥–åŠ±
            document.querySelectorAll('#task-weekly-list + div button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const text = e.target.textContent;
                    if (text.includes('äº²å¯†å€¼â‰¥100')) {
                        if ((currentUser.intimacy || 0) >= 100) {
                            currentUser.intimacy += 52;
                            saveUserInfo();
                            document.getElementById('task-total-intimacy').textContent = currentUser.intimacy;
                            e.target.textContent = 'å·²é¢†å–';
                            e.target.disabled = true;
                            alert('å¥–åŠ±é¢†å–æˆåŠŸï¼äº²å¯†å€¼+52');
                        } else {
                            alert('æœªæ»¡è¶³é¢†å–æ¡ä»¶ï¼ˆäº²å¯†å€¼â‰¥100ï¼‰');
                        }
                    } else if (text.includes('è¿ç»­æ‰“å¡7å¤©')) {
                        if ((currentUser.sparkleDays || 0) >= 7) {
                            e.target.textContent = 'å·²é¢†å–';
                            e.target.disabled = true;
                            alert('å¥–åŠ±é¢†å–æˆåŠŸï¼è·å¾—ä¸“å±æƒ…ä¾£å¤´åƒæ¡†');
                        } else {
                            alert('æœªæ»¡è¶³é¢†å–æ¡ä»¶ï¼ˆè¿ç»­æ‰“å¡7å¤©ï¼‰');
                        }
                    } else if (text.includes('å®Œæˆ5ä¸ªæ—¥å¸¸ä»»åŠ¡')) {
                        if ((currentUser.completedTasks || 0) >= 5) {
                            e.target.textContent = 'å·²é¢†å–';
                            e.target.disabled = true;
                            alert('å¥–åŠ±é¢†å–æˆåŠŸï¼è·å¾—ç§å¯†ç©ºé—´èƒŒæ™¯å›¾');
                        } else {
                            alert('æœªæ»¡è¶³é¢†å–æ¡ä»¶ï¼ˆå®Œæˆ5ä¸ªæ—¥å¸¸ä»»åŠ¡ï¼‰');
                        }
                    }
                });
            });

            // è¿”å›
            document.getElementById('task-back-btn').addEventListener('click', () => showPage('user-center-page'));
        }

        // ç³»ç»Ÿè®¾ç½®åˆå§‹åŒ–
        function initSettingPage() {
            // éšç§è®¾ç½®åˆ‡æ¢
            document.getElementById('setting-hide-couple').addEventListener('change', (e) => {
                currentUser.hideCouple = e.target.checked;
                saveUserInfo();
            });
            document.getElementById('setting-hide-photo').addEventListener('change', (e) => {
                currentUser.hidePhoto = e.target.checked;
                saveUserInfo();
            });
            document.getElementById('setting-only-friend').addEventListener('change', (e) => {
                currentUser.onlyFriend = e.target.checked;
                saveUserInfo();
            });

            // é€šç”¨è®¾ç½®åˆ‡æ¢
            document.getElementById('setting-notice').addEventListener('change', (e) => {
                currentUser.notice = e.target.checked;
                saveUserInfo();
            });
            document.getElementById('setting-sound').addEventListener('change', (e) => {
                currentUser.sound = e.target.checked;
                saveUserInfo();
            });
            document.getElementById('setting-night').addEventListener('change', (e) => {
                currentUser.nightMode = e.target.checked;
                document.body.classList.toggle('bg-gray-900', e.target.checked);
                document.body.classList.toggle('text-white', e.target.checked);
                document.body.classList.toggle('bg-gray-50', !e.target.checked);
                document.body.classList.toggle('text-gray-800', !e.target.checked);
                saveUserInfo();
            });

            // æ¸…é™¤è®¿å®¢è®°å½•
            document.querySelector('#setting-only-friend').parentNode.parentNode.nextElementSibling.querySelector('button').addEventListener('click', () => {
                currentUser.visitor = [];
                saveUserInfo();
                alert('è®¿å®¢è®°å½•å·²æ¸…é™¤');
            });

            // æ¸…é™¤ç¼“å­˜
            document.querySelector('#setting-night').parentNode.parentNode.nextElementSibling.querySelector('button').addEventListener('click', () => {
                localStorage.removeItem('loveTempFiles');
                alert('ç¼“å­˜å·²æ¸…é™¤');
            });

            // æ£€æŸ¥æ›´æ–°
            document.querySelector('#setting-page .bg-love-cyan\\/10').addEventListener('click', () => {
                alert('å½“å‰å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼ˆV1.0.0ï¼‰');
            });

            // é€€å‡ºç™»å½•
            document.getElementById('setting-logout-btn').addEventListener('click', () => {
                currentUser = {};
                showPage('login-page');
            });

            // è¿”å›
            document.getElementById('setting-back-btn').addEventListener('click', () => showPage('user-center-page'));
        }

        // ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°localStorage
        function saveUserInfo() {
            let userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
            const index = userList.findIndex(u => u.username === currentUser.username);
            if (index !== -1) {
                userList[index] = currentUser;
                localStorage.setItem('loveUserList', JSON.stringify(userList));
            }
        }

        // æ ¹æ®ç”¨æˆ·åä¿å­˜ç”¨æˆ·ä¿¡æ¯
        function saveUserByUsername(user) {
            let userList = JSON.parse(localStorage.getItem('loveUserList')) || [];
            const index = userList.findIndex(u => u.username === user.username);
            if (index !== -1) {
                userList[index] = user;
                localStorage.setItem('loveUserList', JSON.stringify(userList));
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>
